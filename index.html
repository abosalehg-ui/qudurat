<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù‚Ø¯Ø±Ø§ØªÙŠ - Ù…Ù†ØµØ© Ø§Ù„ØªØ¯Ø±ÙŠØ¨ Ø¹Ù„Ù‰ Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù‚Ø¯Ø±Ø§Øª</title>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700;800&family=Amiri:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #1a5f7a;
            --primary-dark: #134b5f;
            --primary-light: #2980b9;
            --secondary: #f39c12;
            --secondary-light: #f1c40f;
            --success: #27ae60;
            --danger: #e74c3c;
            --warning: #f39c12;
            --dark: #2c3e50;
            --light: #ecf0f1;
            --gray: #95a5a6;
            --white: #ffffff;
            --bg-gradient: linear-gradient(135deg, #1a5f7a 0%, #2980b9 50%, #3498db 100%);
            --card-shadow: 0 10px 40px rgba(26, 95, 122, 0.15);
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Tajawal', sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #e4e8eb 100%);
            min-height: 100vh;
            color: var(--dark);
            line-height: 1.8;
        }

        /* Navigation */
        .navbar {
            background: var(--bg-gradient);
            padding: 1rem;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            box-shadow: 0 4px 20px rgba(0,0,0,0.15);
        }

        .nav-container {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            color: var(--white);
            text-decoration: none;
            font-size: 1.5rem;
            font-weight: 800;
        }

        .logo-icon {
            width: 45px;
            height: 45px;
            background: rgba(255,255,255,0.2);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
        }

        .nav-links {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
            justify-content: center;
        }

        .nav-link {
            color: rgba(255,255,255,0.9);
            text-decoration: none;
            padding: 0.6rem 1rem;
            border-radius: 10px;
            transition: var(--transition);
            font-weight: 500;
            font-size: 0.95rem;
            white-space: nowrap;
        }

        .nav-link:hover, .nav-link.active {
            background: rgba(255,255,255,0.2);
            color: var(--white);
        }

        .nav-stats {
            display: flex;
            gap: 1rem;
            align-items: center;
        }

        .stat-badge {
            background: rgba(255,255,255,0.15);
            padding: 0.5rem 1rem;
            border-radius: 20px;
            color: var(--white);
            font-size: 0.85rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        /* Mobile Menu */
        .mobile-menu-btn {
            display: none;
            background: rgba(255,255,255,0.2);
            border: none;
            color: var(--white);
            padding: 0.75rem;
            border-radius: 10px;
            cursor: pointer;
            font-size: 1.25rem;
        }

        @media (max-width: 900px) {
            .mobile-menu-btn {
                display: block;
            }
            .nav-links {
                display: none;
                width: 100%;
                flex-direction: column;
                background: rgba(0,0,0,0.1);
                border-radius: 12px;
                padding: 1rem;
                margin-top: 1rem;
            }
            .nav-links.show {
                display: flex;
            }
            .nav-stats {
                display: none;
            }
        }

        /* Main Content */
        .main-content {
            margin-top: 80px;
            padding: 2rem 1rem;
            max-width: 1400px;
            margin-left: auto;
            margin-right: auto;
        }

        /* Pages */
        .page {
            display: none;
            animation: fadeIn 0.4s ease;
        }

        .page.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Hero Section */
        .hero {
            background: var(--bg-gradient);
            border-radius: 24px;
            padding: 3rem 2rem;
            color: var(--white);
            text-align: center;
            margin-bottom: 2rem;
            position: relative;
            overflow: hidden;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
            animation: float 20s linear infinite;
        }

        @keyframes float {
            0% { transform: translate(0, 0); }
            100% { transform: translate(-30px, -30px); }
        }

        .hero-content {
            position: relative;
            z-index: 1;
        }

        .hero h1 {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            font-weight: 800;
        }

        .hero p {
            font-size: 1.1rem;
            opacity: 0.9;
            max-width: 600px;
            margin: 0 auto 2rem;
        }

        .hero-stats {
            display: flex;
            justify-content: center;
            gap: 2rem;
            flex-wrap: wrap;
            margin-top: 2rem;
        }

        .hero-stat {
            text-align: center;
        }

        .hero-stat-value {
            font-size: 2.5rem;
            font-weight: 800;
            display: block;
        }

        .hero-stat-label {
            font-size: 0.9rem;
            opacity: 0.8;
        }

        /* Cards Grid */
        .cards-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .card {
            background: var(--white);
            border-radius: 20px;
            padding: 2rem;
            box-shadow: var(--card-shadow);
            transition: var(--transition);
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 50px rgba(26, 95, 122, 0.2);
        }

        .card-icon {
            width: 70px;
            height: 70px;
            border-radius: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            margin-bottom: 1.5rem;
        }

        .card-icon.verbal { background: linear-gradient(135deg, #9b59b6, #8e44ad); }
        .card-icon.quant { background: linear-gradient(135deg, #3498db, #2980b9); }
        .card-icon.test { background: linear-gradient(135deg, #27ae60, #229954); }
        .card-icon.solved { background: linear-gradient(135deg, #f39c12, #e67e22); }

        .card h3 {
            font-size: 1.4rem;
            margin-bottom: 0.5rem;
            color: var(--dark);
        }

        .card p {
            color: var(--gray);
            font-size: 0.95rem;
            margin-bottom: 1rem;
        }

        .card-meta {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .card-badge {
            background: var(--light);
            padding: 0.4rem 0.8rem;
            border-radius: 20px;
            font-size: 0.8rem;
            color: var(--dark);
        }

        /* Section Header */
        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .section-title {
            font-size: 1.8rem;
            color: var(--dark);
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .section-title span {
            font-size: 1.5rem;
        }

        /* Buttons */
        .btn {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.75rem 1.5rem;
            border-radius: 12px;
            font-family: 'Tajawal', sans-serif;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            border: none;
            text-decoration: none;
        }

        .btn-primary {
            background: var(--bg-gradient);
            color: var(--white);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(26, 95, 122, 0.3);
        }

        .btn-secondary {
            background: var(--light);
            color: var(--dark);
        }

        .btn-success {
            background: var(--success);
            color: var(--white);
        }

        .btn-danger {
            background: var(--danger);
            color: var(--white);
        }

        .btn-warning {
            background: var(--warning);
            color: var(--white);
        }

        .btn-sm {
            padding: 0.5rem 1rem;
            font-size: 0.875rem;
        }

        .btn-block {
            width: 100%;
            justify-content: center;
        }

        /* Sub Categories */
        .sub-categories {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .sub-cat-card {
            background: var(--white);
            border-radius: 16px;
            padding: 1.5rem;
            box-shadow: 0 5px 20px rgba(0,0,0,0.08);
            transition: var(--transition);
            cursor: pointer;
            border: 2px solid transparent;
        }

        .sub-cat-card:hover, .sub-cat-card.active {
            border-color: var(--primary);
            transform: translateY(-3px);
        }

        .sub-cat-card h4 {
            margin-bottom: 0.5rem;
            color: var(--dark);
        }

        .sub-cat-card p {
            font-size: 0.85rem;
            color: var(--gray);
        }

        .sub-cat-progress {
            margin-top: 1rem;
            height: 6px;
            background: var(--light);
            border-radius: 3px;
            overflow: hidden;
        }

        .sub-cat-progress-bar {
            height: 100%;
            background: var(--primary);
            border-radius: 3px;
            transition: width 0.5s ease;
        }

        /* Question Card */
        .question-container {
            background: var(--white);
            border-radius: 20px;
            padding: 2rem;
            box-shadow: var(--card-shadow);
            margin-bottom: 1.5rem;
        }

        .question-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .question-number {
            background: var(--primary);
            color: var(--white);
            padding: 0.5rem 1rem;
            border-radius: 10px;
            font-weight: 600;
        }

        .question-difficulty {
            padding: 0.4rem 0.8rem;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 500;
        }

        .difficulty-easy { background: #d5f5e3; color: #27ae60; }
        .difficulty-medium { background: #fdebd0; color: #f39c12; }
        .difficulty-hard { background: #fadbd8; color: #e74c3c; }

        .question-text {
            font-size: 1.2rem;
            line-height: 2;
            margin-bottom: 1.5rem;
            color: var(--dark);
        }

        .question-context {
            background: var(--light);
            padding: 1.5rem;
            border-radius: 12px;
            margin-bottom: 1.5rem;
            font-family: 'Amiri', serif;
            font-size: 1.1rem;
            line-height: 2.2;
            border-right: 4px solid var(--primary);
        }

        .options-list {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }

        .option {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1rem 1.25rem;
            background: var(--light);
            border-radius: 12px;
            cursor: pointer;
            transition: var(--transition);
            border: 2px solid transparent;
        }

        .option:hover {
            background: #e8f4fc;
            border-color: var(--primary-light);
        }

        .option.selected {
            background: #d4edfc;
            border-color: var(--primary);
        }

        .option.correct {
            background: #d5f5e3;
            border-color: var(--success);
        }

        .option.wrong {
            background: #fadbd8;
            border-color: var(--danger);
        }

        .option-letter {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background: var(--white);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            color: var(--primary);
            flex-shrink: 0;
        }

        .option.selected .option-letter {
            background: var(--primary);
            color: var(--white);
        }

        .option.correct .option-letter {
            background: var(--success);
            color: var(--white);
        }

        .option.wrong .option-letter {
            background: var(--danger);
            color: var(--white);
        }

        /* Timer */
        .timer-container {
            position: fixed;
            top: 90px;
            left: 50%;
            transform: translateX(-50%);
            background: var(--white);
            padding: 0.75rem 2rem;
            border-radius: 30px;
            box-shadow: 0 5px 25px rgba(0,0,0,0.15);
            display: none;
            z-index: 999;
        }

        .timer-container.show {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .timer-icon {
            font-size: 1.5rem;
        }

        .timer-value {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary);
            font-family: 'Courier New', monospace;
        }

        .timer-value.warning {
            color: var(--warning);
            animation: pulse 1s infinite;
        }

        .timer-value.danger {
            color: var(--danger);
            animation: pulse 0.5s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        /* Progress Bar */
        .progress-container {
            background: var(--light);
            border-radius: 10px;
            height: 10px;
            margin-bottom: 1.5rem;
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            background: var(--bg-gradient);
            border-radius: 10px;
            transition: width 0.3s ease;
        }

        /* Results */
        .results-container {
            background: var(--white);
            border-radius: 20px;
            padding: 2.5rem;
            box-shadow: var(--card-shadow);
            text-align: center;
        }

        .results-score {
            width: 180px;
            height: 180px;
            border-radius: 50%;
            margin: 0 auto 2rem;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            position: relative;
        }

        .results-score::before {
            content: '';
            position: absolute;
            inset: 0;
            border-radius: 50%;
            border: 8px solid var(--light);
        }

        .results-score.excellent { background: linear-gradient(135deg, #d5f5e3, #a9dfbf); }
        .results-score.good { background: linear-gradient(135deg, #d4edfc, #aed6f1); }
        .results-score.average { background: linear-gradient(135deg, #fdebd0, #f9e79f); }
        .results-score.poor { background: linear-gradient(135deg, #fadbd8, #f5b7b1); }

        .score-value {
            font-size: 3rem;
            font-weight: 800;
            color: var(--dark);
        }

        .score-label {
            font-size: 1rem;
            color: var(--gray);
        }

        .results-details {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
        }

        .result-stat {
            padding: 1.5rem;
            border-radius: 16px;
            background: var(--light);
        }

        .result-stat-value {
            font-size: 2rem;
            font-weight: 700;
            display: block;
            margin-bottom: 0.25rem;
        }

        .result-stat-label {
            font-size: 0.9rem;
            color: var(--gray);
        }

        .result-stat.correct .result-stat-value { color: var(--success); }
        .result-stat.wrong .result-stat-value { color: var(--danger); }
        .result-stat.time .result-stat-value { color: var(--primary); }

        /* Analysis Section */
        .analysis-section {
            background: var(--white);
            border-radius: 20px;
            padding: 2rem;
            box-shadow: var(--card-shadow);
            margin-top: 1.5rem;
        }

        .analysis-title {
            font-size: 1.3rem;
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .strength-weakness {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.5rem;
        }

        .sw-card {
            padding: 1.5rem;
            border-radius: 16px;
        }

        .sw-card.strength {
            background: linear-gradient(135deg, #d5f5e3, #e8f8f0);
            border-right: 4px solid var(--success);
        }

        .sw-card.weakness {
            background: linear-gradient(135deg, #fadbd8, #fdf2f0);
            border-right: 4px solid var(--danger);
        }

        .sw-card h4 {
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .sw-list {
            list-style: none;
        }

        .sw-list li {
            padding: 0.5rem 0;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        /* Saved Questions */
        .saved-indicator {
            position: absolute;
            top: 1rem;
            left: 1rem;
            font-size: 1.5rem;
            cursor: pointer;
            transition: var(--transition);
        }

        .saved-indicator:hover {
            transform: scale(1.2);
        }

        /* Dashboard */
        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
        }

        .dashboard-card {
            background: var(--white);
            border-radius: 20px;
            padding: 1.5rem;
            box-shadow: var(--card-shadow);
        }

        .dashboard-card h3 {
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 1.1rem;
        }

        /* Chart Placeholder */
        .chart-container {
            height: 200px;
            display: flex;
            align-items: flex-end;
            gap: 0.5rem;
            padding: 1rem;
            background: var(--light);
            border-radius: 12px;
        }

        .chart-bar {
            flex: 1;
            background: var(--bg-gradient);
            border-radius: 8px 8px 0 0;
            transition: height 0.5s ease;
            position: relative;
        }

        .chart-bar::after {
            content: attr(data-value);
            position: absolute;
            top: -25px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 0.75rem;
            font-weight: 600;
        }

        /* Admin Panel */
        .admin-tabs {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 1.5rem;
            flex-wrap: wrap;
        }

        .admin-tab {
            padding: 0.75rem 1.5rem;
            background: var(--light);
            border: none;
            border-radius: 12px;
            font-family: 'Tajawal', sans-serif;
            font-size: 1rem;
            cursor: pointer;
            transition: var(--transition);
        }

        .admin-tab.active {
            background: var(--primary);
            color: var(--white);
        }

        .admin-form {
            background: var(--white);
            border-radius: 20px;
            padding: 2rem;
            box-shadow: var(--card-shadow);
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: var(--dark);
        }

        .form-input, .form-select, .form-textarea {
            width: 100%;
            padding: 0.875rem 1rem;
            border: 2px solid var(--light);
            border-radius: 12px;
            font-family: 'Tajawal', sans-serif;
            font-size: 1rem;
            transition: var(--transition);
        }

        .form-input:focus, .form-select:focus, .form-textarea:focus {
            outline: none;
            border-color: var(--primary);
        }

        .form-textarea {
            min-height: 120px;
            resize: vertical;
        }

        .form-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
        }

        /* Questions Table */
        .questions-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 1rem;
        }

        .questions-table th,
        .questions-table td {
            padding: 1rem;
            text-align: right;
            border-bottom: 1px solid var(--light);
        }

        .questions-table th {
            background: var(--light);
            font-weight: 600;
        }

        .questions-table tr:hover td {
            background: #f8fafc;
        }

        .table-actions {
            display: flex;
            gap: 0.5rem;
        }

        .action-btn {
            width: 36px;
            height: 36px;
            border-radius: 8px;
            border: none;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .action-btn.edit {
            background: #d4edfc;
            color: var(--primary);
        }

        .action-btn.delete {
            background: #fadbd8;
            color: var(--danger);
        }

        /* Explanation */
        .explanation-box {
            background: linear-gradient(135deg, #e8f4fc, #f0f9ff);
            border-radius: 16px;
            padding: 1.5rem;
            margin-top: 1.5rem;
            border-right: 4px solid var(--primary);
            display: none;
        }

        .explanation-box.show {
            display: block;
            animation: slideIn 0.3s ease;
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .explanation-title {
            font-weight: 700;
            margin-bottom: 0.75rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--primary);
        }

        /* Footer */
        .footer {
            background: var(--dark);
            color: var(--white);
            padding: 2rem 1rem;
            margin-top: 3rem;
            text-align: center;
        }

        .footer-content {
            max-width: 1400px;
            margin: 0 auto;
        }

        .footer a {
            color: var(--secondary);
            text-decoration: none;
        }

        .footer-links {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin-bottom: 1.5rem;
            flex-wrap: wrap;
        }

        /* Modals */
        .modal {
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.5);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 2000;
            padding: 1rem;
        }

        .modal.show {
            display: flex;
        }

        .modal-content {
            background: var(--white);
            border-radius: 20px;
            padding: 2rem;
            max-width: 500px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            animation: modalIn 0.3s ease;
        }

        @keyframes modalIn {
            from { opacity: 0; transform: scale(0.9); }
            to { opacity: 1; transform: scale(1); }
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }

        .modal-close {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--gray);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .hero h1 {
                font-size: 1.8rem;
            }
            .hero-stat-value {
                font-size: 1.8rem;
            }
            .question-text {
                font-size: 1.1rem;
            }
            .cards-grid {
                grid-template-columns: 1fr;
            }
        }

        /* Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: var(--light);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--primary);
            border-radius: 4px;
        }

        /* Back Button */
        .back-btn {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--primary);
            text-decoration: none;
            font-weight: 600;
            margin-bottom: 1rem;
            cursor: pointer;
            transition: var(--transition);
        }

        .back-btn:hover {
            color: var(--primary-dark);
        }

        /* Empty State */
        .empty-state {
            text-align: center;
            padding: 4rem 2rem;
            color: var(--gray);
        }

        .empty-state-icon {
            font-size: 4rem;
            margin-bottom: 1rem;
            opacity: 0.5;
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <a href="#" class="logo" onclick="showPage('home')">
                <div class="logo-icon">ğŸ“š</div>
                <span>Ù‚Ø¯Ø±Ø§ØªÙŠ</span>
            </a>
            
            <button class="mobile-menu-btn" onclick="toggleMobileMenu()">â˜°</button>
            
            <div class="nav-links" id="navLinks">
                <a href="#" class="nav-link active" onclick="showPage('home')" data-page="home">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
                <a href="#" class="nav-link" onclick="showPage('verbal')" data-page="verbal">Ø§Ù„Ù„ÙØ¸ÙŠ</a>
                <a href="#" class="nav-link" onclick="showPage('quant')" data-page="quant">Ø§Ù„ÙƒÙ…ÙŠ</a>
                <a href="#" class="nav-link" onclick="showPage('tests')" data-page="tests">Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª</a>
                <a href="#" class="nav-link" onclick="showPage('solved')" data-page="solved">Ù†Ù…Ø§Ø°Ø¬ Ù…Ø­Ù„ÙˆÙ„Ø©</a>
                <a href="#" class="nav-link" onclick="showPage('saved')" data-page="saved">Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø§Øª</a>
                <a href="#" class="nav-link" onclick="showPage('progress')" data-page="progress">ØªÙ‚Ø¯Ù…ÙŠ</a>
                <a href="#" class="nav-link" onclick="showPage('admin')" data-page="admin">Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</a>
            </div>
            
            <div class="nav-stats">
                <div class="stat-badge">
                    <span>ğŸ”¥</span>
                    <span id="streakCount">0</span> ÙŠÙˆÙ… Ù…ØªÙˆØ§ØµÙ„
                </div>
            </div>
        </div>
    </nav>

    <!-- Timer -->
    <div class="timer-container" id="timerContainer">
        <span class="timer-icon">â±ï¸</span>
        <span class="timer-value" id="timerValue">00:00</span>
    </div>

    <!-- Main Content -->
    <main class="main-content">
        
        <!-- Home Page -->
        <div class="page active" id="page-home">
            <div class="hero">
                <div class="hero-content">
                    <h1>ğŸ¯ Ø§Ø³ØªØ¹Ø¯ Ù„Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù‚Ø¯Ø±Ø§Øª Ø¨Ø«Ù‚Ø©</h1>
                    <p>Ù…Ù†ØµØªÙƒ Ø§Ù„Ø´Ø§Ù…Ù„Ø© Ù„Ù„ØªØ¯Ø±ÙŠØ¨ Ø¹Ù„Ù‰ Ø§Ø®ØªØ¨Ø§Ø± Ù‚ÙŠØ§Ø³ - Ø£Ø³Ø¦Ù„Ø© ØªÙØ§Ø¹Ù„ÙŠØ©ØŒ ØªØ­Ù„ÙŠÙ„ Ø°ÙƒÙŠØŒ ÙˆÙ…ØªØ§Ø¨Ø¹Ø© Ø¯Ù‚ÙŠÙ‚Ø© Ù„ØªÙ‚Ø¯Ù…Ùƒ</p>
                    <button class="btn btn-primary" onclick="showPage('tests')" style="background: rgba(255,255,255,0.2); backdrop-filter: blur(10px);">
                        Ø§Ø¨Ø¯Ø£ Ø§Ø®ØªØ¨Ø§Ø± ØªØ¬Ø±ÙŠØ¨ÙŠ Ø§Ù„Ø¢Ù† â†
                    </button>
                    <div class="hero-stats">
                        <div class="hero-stat">
                            <span class="hero-stat-value" id="totalQuestions">500+</span>
                            <span class="hero-stat-label">Ø³Ø¤Ø§Ù„ Ù…ØªÙ†ÙˆØ¹</span>
                        </div>
                        <div class="hero-stat">
                            <span class="hero-stat-value" id="totalTests">20+</span>
                            <span class="hero-stat-label">Ø§Ø®ØªØ¨Ø§Ø± ØªØ¬Ø±ÙŠØ¨ÙŠ</span>
                        </div>
                        <div class="hero-stat">
                            <span class="hero-stat-value" id="userScore">0%</span>
                            <span class="hero-stat-label">Ù…ØªÙˆØ³Ø· Ø£Ø¯Ø§Ø¦Ùƒ</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="section-header">
                <h2 class="section-title"><span>ğŸ“‚</span> Ø§Ù„Ø£Ù‚Ø³Ø§Ù… Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</h2>
            </div>

            <div class="cards-grid">
                <div class="card" onclick="showPage('verbal')">
                    <div class="card-icon verbal">ğŸ“–</div>
                    <h3>Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ù„ÙØ¸ÙŠ</h3>
                    <p>ØªÙ†Ø§Ø¸Ø± Ù„ÙØ¸ÙŠØŒ Ø¥ÙƒÙ…Ø§Ù„ Ø¬Ù…Ù„ØŒ Ø§Ø³ØªÙŠØ¹Ø§Ø¨ Ù…Ù‚Ø±ÙˆØ¡ØŒ ÙˆØ§Ù„Ø®Ø·Ø£ Ø§Ù„Ø³ÙŠØ§Ù‚ÙŠ</p>
                    <div class="card-meta">
                        <span class="card-badge">4 ÙØ¦Ø§Øª</span>
                        <span class="card-badge" id="verbalProgress">0% Ù…ÙƒØªÙ…Ù„</span>
                    </div>
                </div>

                <div class="card" onclick="showPage('quant')">
                    <div class="card-icon quant">ğŸ”¢</div>
                    <h3>Ø§Ù„Ù‚Ø³Ù… Ø§Ù„ÙƒÙ…ÙŠ</h3>
                    <p>Ù†Ø³Ø¨ ÙˆÙ…Ø¹Ø§Ø¯Ù„Ø§ØªØŒ Ø¥Ø­ØµØ§Ø¡ØŒ Ù‡Ù†Ø¯Ø³Ø©ØŒ ÙˆÙ…Ù‚Ø§Ø±Ù†Ø§Øª</p>
                    <div class="card-meta">
                        <span class="card-badge">5 ÙØ¦Ø§Øª</span>
                        <span class="card-badge" id="quantProgress">0% Ù…ÙƒØªÙ…Ù„</span>
                    </div>
                </div>

                <div class="card" onclick="showPage('tests')">
                    <div class="card-icon test">ğŸ“</div>
                    <h3>Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª ØªØ¬Ø±ÙŠØ¨ÙŠØ©</h3>
                    <p>Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª ÙƒØ§Ù…Ù„Ø© ØªØ­Ø§ÙƒÙŠ Ø§Ø®ØªØ¨Ø§Ø± Ù‚ÙŠØ§Ø³ Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠ Ù…Ø¹ ØªØµØ­ÙŠØ­ ØªÙ„Ù‚Ø§Ø¦ÙŠ</p>
                    <div class="card-meta">
                        <span class="card-badge">Ù…Ø¤Ù‚Øª Ø²Ù…Ù†ÙŠ</span>
                        <span class="card-badge">ØªÙ‚Ø±ÙŠØ± Ø£Ø¯Ø§Ø¡</span>
                    </div>
                </div>

                <div class="card" onclick="showPage('solved')">
                    <div class="card-icon solved">ğŸ’¡</div>
                    <h3>Ù†Ù…Ø§Ø°Ø¬ Ù…Ø­Ù„ÙˆÙ„Ø©</h3>
                    <p>Ø´Ø±ÙˆØ­Ø§Øª ØªÙØµÙŠÙ„ÙŠØ© Ø®Ø·ÙˆØ© Ø¨Ø®Ø·ÙˆØ© Ù„ÙÙ‡Ù… Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø­Ù„</p>
                    <div class="card-meta">
                        <span class="card-badge">Ø´Ø±Ø­ Ù…ÙØµÙ„</span>
                        <span class="card-badge">Ø£Ù…Ø«Ù„Ø© Ù…ØªÙ†ÙˆØ¹Ø©</span>
                    </div>
                </div>
            </div>

            <!-- Recommended Section -->
            <div class="section-header">
                <h2 class="section-title"><span>ğŸ¯</span> Ù…Ù‚ØªØ±Ø­Ø§Øª Ù„Ùƒ</h2>
            </div>
            <div class="cards-grid" id="recommendedQuestions">
                <div class="empty-state">
                    <div class="empty-state-icon">ğŸ“Š</div>
                    <p>Ø§Ø¨Ø¯Ø£ Ø¨Ø­Ù„ Ø¨Ø¹Ø¶ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ù„Ù†Ù‚ØªØ±Ø­ Ù„Ùƒ Ø£Ø³Ø¦Ù„Ø© Ù…Ù†Ø§Ø³Ø¨Ø© Ù„Ù…Ø³ØªÙˆØ§Ùƒ</p>
                </div>
            </div>
        </div>

        <!-- Verbal Section Page -->
        <div class="page" id="page-verbal">
            <span class="back-btn" onclick="showPage('home')">â†’ Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</span>
            
            <div class="section-header">
                <h2 class="section-title"><span>ğŸ“–</span> Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ù„ÙØ¸ÙŠ</h2>
            </div>

            <div class="sub-categories">
                <div class="sub-cat-card" onclick="startPractice('verbal', 'analogy')">
                    <h4>ğŸ”„ Ø§Ù„ØªÙ†Ø§Ø¸Ø± Ø§Ù„Ù„ÙØ¸ÙŠ</h4>
                    <p>Ø§ÙƒØªØ´Ù Ø§Ù„Ø¹Ù„Ø§Ù‚Ø© Ø¨ÙŠÙ† Ø§Ù„ÙƒÙ„Ù…Ø§Øª</p>
                    <div class="sub-cat-progress">
                        <div class="sub-cat-progress-bar" style="width: 0%"></div>
                    </div>
                </div>
                <div class="sub-cat-card" onclick="startPractice('verbal', 'completion')">
                    <h4>âœï¸ Ø¥ÙƒÙ…Ø§Ù„ Ø§Ù„Ø¬Ù…Ù„</h4>
                    <p>Ø£ÙƒÙ…Ù„ Ø§Ù„Ø¬Ù…Ù„Ø© Ø¨Ø§Ù„ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø©</p>
                    <div class="sub-cat-progress">
                        <div class="sub-cat-progress-bar" style="width: 0%"></div>
                    </div>
                </div>
                <div class="sub-cat-card" onclick="startPractice('verbal', 'reading')">
                    <h4>ğŸ“š Ø§Ù„Ø§Ø³ØªÙŠØ¹Ø§Ø¨ Ø§Ù„Ù…Ù‚Ø±ÙˆØ¡</h4>
                    <p>Ø§Ù‚Ø±Ø£ ÙˆØ£Ø¬Ø¨ Ø¹Ù† Ø§Ù„Ø£Ø³Ø¦Ù„Ø©</p>
                    <div class="sub-cat-progress">
                        <div class="sub-cat-progress-bar" style="width: 0%"></div>
                    </div>
                </div>
                <div class="sub-cat-card" onclick="startPractice('verbal', 'context')">
                    <h4>ğŸ” Ø§Ù„Ø®Ø·Ø£ Ø§Ù„Ø³ÙŠØ§Ù‚ÙŠ</h4>
                    <p>Ø­Ø¯Ø¯ Ø§Ù„ÙƒÙ„Ù…Ø© Ø§Ù„Ø®Ø§Ø·Ø¦Ø© ÙÙŠ Ø§Ù„Ø³ÙŠØ§Ù‚</p>
                    <div class="sub-cat-progress">
                        <div class="sub-cat-progress-bar" style="width: 0%"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Quantitative Section Page -->
        <div class="page" id="page-quant">
            <span class="back-btn" onclick="showPage('home')">â†’ Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</span>
            
            <div class="section-header">
                <h2 class="section-title"><span>ğŸ”¢</span> Ø§Ù„Ù‚Ø³Ù… Ø§Ù„ÙƒÙ…ÙŠ</h2>
            </div>

            <div class="sub-categories">
                <div class="sub-cat-card" onclick="startPractice('quant', 'ratio')">
                    <h4>ğŸ“Š Ø§Ù„Ù†Ø³Ø¨ ÙˆØ§Ù„ØªÙ†Ø§Ø³Ø¨</h4>
                    <p>Ù…Ø³Ø§Ø¦Ù„ Ø§Ù„Ù†Ø³Ø¨ ÙˆØ§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø§Øª</p>
                    <div class="sub-cat-progress">
                        <div class="sub-cat-progress-bar" style="width: 0%"></div>
                    </div>
                </div>
                <div class="sub-cat-card" onclick="startPractice('quant', 'algebra')">
                    <h4>ğŸ”£ Ø§Ù„Ø¬Ø¨Ø± ÙˆØ§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø§Øª</h4>
                    <p>Ø­Ù„ Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø§Øª Ø§Ù„Ø¬Ø¨Ø±ÙŠØ©</p>
                    <div class="sub-cat-progress">
                        <div class="sub-cat-progress-bar" style="width: 0%"></div>
                    </div>
                </div>
                <div class="sub-cat-card" onclick="startPractice('quant', 'statistics')">
                    <h4>ğŸ“ˆ Ø§Ù„Ø¥Ø­ØµØ§Ø¡</h4>
                    <p>Ø§Ù„Ù…ØªÙˆØ³Ø· ÙˆØ§Ù„ÙˆØ³ÙŠØ· ÙˆØ§Ù„Ù…Ù†ÙˆØ§Ù„</p>
                    <div class="sub-cat-progress">
                        <div class="sub-cat-progress-bar" style="width: 0%"></div>
                    </div>
                </div>
                <div class="sub-cat-card" onclick="startPractice('quant', 'geometry')">
                    <h4>ğŸ“ Ø§Ù„Ù‡Ù†Ø¯Ø³Ø©</h4>
                    <p>Ø§Ù„Ù…Ø³Ø§Ø­Ø§Øª ÙˆØ§Ù„Ø²ÙˆØ§ÙŠØ§ ÙˆØ§Ù„Ø£Ø´ÙƒØ§Ù„</p>
                    <div class="sub-cat-progress">
                        <div class="sub-cat-progress-bar" style="width: 0%"></div>
                    </div>
                </div>
                <div class="sub-cat-card" onclick="startPractice('quant', 'comparison')">
                    <h4>âš–ï¸ Ø§Ù„Ù…Ù‚Ø§Ø±Ù†Ø©</h4>
                    <p>Ù‚Ø§Ø±Ù† Ø¨ÙŠÙ† Ø§Ù„Ù‚ÙŠÙ…ØªÙŠÙ†</p>
                    <div class="sub-cat-progress">
                        <div class="sub-cat-progress-bar" style="width: 0%"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Tests Page -->
        <div class="page" id="page-tests">
            <span class="back-btn" onclick="showPage('home')">â†’ Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</span>
            
            <div class="section-header">
                <h2 class="section-title"><span>ğŸ“</span> Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠØ©</h2>
            </div>

            <div class="cards-grid" id="testsList">
                <!-- Tests will be loaded here -->
            </div>
        </div>

        <!-- Practice Page -->
        <div class="page" id="page-practice">
            <span class="back-btn" id="practiceBackBtn">â†’ Ø§Ù„Ø¹ÙˆØ¯Ø©</span>
            
            <div class="progress-container">
                <div class="progress-bar" id="practiceProgress" style="width: 0%"></div>
            </div>

            <div class="question-container" id="questionContainer">
                <!-- Question will be loaded here -->
            </div>

            <div class="explanation-box" id="explanationBox">
                <div class="explanation-title">ğŸ’¡ Ø§Ù„Ø´Ø±Ø­</div>
                <p id="explanationText"></p>
            </div>

            <div style="display: flex; gap: 1rem; justify-content: center; margin-top: 1.5rem;">
                <button class="btn btn-secondary" id="prevBtn" onclick="previousQuestion()">â† Ø§Ù„Ø³Ø§Ø¨Ù‚</button>
                <button class="btn btn-primary" id="nextBtn" onclick="nextQuestion()">Ø§Ù„ØªØ§Ù„ÙŠ â†’</button>
                <button class="btn btn-success" id="finishBtn" onclick="finishPractice()" style="display: none;">Ø¥Ù†Ù‡Ø§Ø¡ âœ“</button>
            </div>
        </div>

        <!-- Results Page -->
        <div class="page" id="page-results">
            <div class="results-container" id="resultsContainer">
                <!-- Results will be loaded here -->
            </div>
        </div>

        <!-- Solved Examples Page -->
        <div class="page" id="page-solved">
            <span class="back-btn" onclick="showPage('home')">â†’ Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</span>
            
            <div class="section-header">
                <h2 class="section-title"><span>ğŸ’¡</span> Ù†Ù…Ø§Ø°Ø¬ Ù…Ø­Ù„ÙˆÙ„Ø©</h2>
            </div>

            <div class="admin-tabs">
                <button class="admin-tab active" onclick="filterSolved('all')">Ø§Ù„ÙƒÙ„</button>
                <button class="admin-tab" onclick="filterSolved('verbal')">Ø§Ù„Ù„ÙØ¸ÙŠ</button>
                <button class="admin-tab" onclick="filterSolved('quant')">Ø§Ù„ÙƒÙ…ÙŠ</button>
            </div>

            <div id="solvedList">
                <!-- Solved examples will be loaded here -->
            </div>
        </div>

        <!-- Saved Questions Page -->
        <div class="page" id="page-saved">
            <span class="back-btn" onclick="showPage('home')">â†’ Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</span>
            
            <div class="section-header">
                <h2 class="section-title"><span>ğŸ”–</span> Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø©</h2>
            </div>

            <div id="savedList">
                <!-- Saved questions will be loaded here -->
            </div>
        </div>

        <!-- Progress Page -->
        <div class="page" id="page-progress">
            <span class="back-btn" onclick="showPage('home')">â†’ Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</span>
            
            <div class="section-header">
                <h2 class="section-title"><span>ğŸ“Š</span> ØªÙ‚Ø¯Ù…ÙŠ ÙˆØ¥Ø­ØµØ§Ø¦ÙŠØ§ØªÙŠ</h2>
            </div>

            <div class="dashboard-grid">
                <div class="dashboard-card">
                    <h3>ğŸ“ˆ Ø§Ù„Ø£Ø¯Ø§Ø¡ Ø§Ù„Ø¹Ø§Ù…</h3>
                    <div class="chart-container" id="performanceChart">
                        <!-- Chart will be rendered here -->
                    </div>
                </div>
                <div class="dashboard-card">
                    <h3>ğŸ¯ Ù†Ø³Ø¨Ø© Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø§Øª Ø§Ù„ØµØ­ÙŠØ­Ø©</h3>
                    <div id="accuracyStats">
                        <!-- Stats will be loaded here -->
                    </div>
                </div>
                <div class="dashboard-card">
                    <h3>ğŸ“š Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ù…Ø­Ù„ÙˆÙ„Ø©</h3>
                    <div id="questionsStats">
                        <!-- Stats will be loaded here -->
                    </div>
                </div>
                <div class="dashboard-card">
                    <h3>â±ï¸ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…Ø³ØªØºØ±Ù‚</h3>
                    <div id="timeStats">
                        <!-- Stats will be loaded here -->
                    </div>
                </div>
            </div>

            <div class="analysis-section">
                <h3 class="analysis-title">ğŸ“Š ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø£Ø¯Ø§Ø¡</h3>
                <div class="strength-weakness">
                    <div class="sw-card strength">
                        <h4>âœ… Ù†Ù‚Ø§Ø· Ø§Ù„Ù‚ÙˆØ©</h4>
                        <ul class="sw-list" id="strengthsList">
                            <li>â­ Ø£ÙƒÙ…Ù„ Ø¨Ø¹Ø¶ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ù„Ù…Ø¹Ø±ÙØ© Ù†Ù‚Ø§Ø· Ù‚ÙˆØªÙƒ</li>
                        </ul>
                    </div>
                    <div class="sw-card weakness">
                        <h4>âš ï¸ ØªØ­ØªØ§Ø¬ ØªØ­Ø³ÙŠÙ†</h4>
                        <ul class="sw-list" id="weaknessesList">
                            <li>ğŸ“ Ø£ÙƒÙ…Ù„ Ø¨Ø¹Ø¶ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ù„Ù…Ø¹Ø±ÙØ© Ù…Ø§ ØªØ­ØªØ§Ø¬ ØªØ­Ø³ÙŠÙ†Ù‡</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Admin Page -->
        <div class="page" id="page-admin">
            <span class="back-btn" onclick="showPage('home')">â†’ Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</span>
            
            <div class="section-header">
                <h2 class="section-title"><span>âš™ï¸</span> Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</h2>
            </div>

            <div class="admin-tabs">
                <button class="admin-tab active" onclick="showAdminTab('add')">Ø¥Ø¶Ø§ÙØ© Ø³Ø¤Ø§Ù„</button>
                <button class="admin-tab" onclick="showAdminTab('manage')">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£Ø³Ø¦Ù„Ø©</button>
                <button class="admin-tab" onclick="showAdminTab('tests')">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª</button>
            </div>

            <!-- Add Question Form -->
            <div class="admin-form" id="adminAdd">
                <h3 style="margin-bottom: 1.5rem;">â• Ø¥Ø¶Ø§ÙØ© Ø³Ø¤Ø§Ù„ Ø¬Ø¯ÙŠØ¯</h3>
                
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label">Ø§Ù„Ù‚Ø³Ù…</label>
                        <select class="form-select" id="qSection" onchange="updateSubcategories()">
                            <option value="verbal">Ø§Ù„Ù„ÙØ¸ÙŠ</option>
                            <option value="quant">Ø§Ù„ÙƒÙ…ÙŠ</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Ø§Ù„ÙØ¦Ø© Ø§Ù„ÙØ±Ø¹ÙŠØ©</label>
                        <select class="form-select" id="qSubcategory">
                            <option value="analogy">Ø§Ù„ØªÙ†Ø§Ø¸Ø± Ø§Ù„Ù„ÙØ¸ÙŠ</option>
                            <option value="completion">Ø¥ÙƒÙ…Ø§Ù„ Ø§Ù„Ø¬Ù…Ù„</option>
                            <option value="reading">Ø§Ù„Ø§Ø³ØªÙŠØ¹Ø§Ø¨ Ø§Ù„Ù…Ù‚Ø±ÙˆØ¡</option>
                            <option value="context">Ø§Ù„Ø®Ø·Ø£ Ø§Ù„Ø³ÙŠØ§Ù‚ÙŠ</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØµØ¹ÙˆØ¨Ø©</label>
                        <select class="form-select" id="qDifficulty">
                            <option value="easy">Ø³Ù‡Ù„</option>
                            <option value="medium">Ù…ØªÙˆØ³Ø·</option>
                            <option value="hard">ØµØ¹Ø¨</option>
                        </select>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">Ù†Øµ Ø§Ù„Ø³ÙŠØ§Ù‚ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ - Ù„Ù„Ø§Ø³ØªÙŠØ¹Ø§Ø¨ Ø§Ù„Ù…Ù‚Ø±ÙˆØ¡)</label>
                    <textarea class="form-textarea" id="qContext" placeholder="Ø£Ø¯Ø®Ù„ Ù†Øµ Ø§Ù„Ù‚Ø±Ø§Ø¡Ø© Ù‡Ù†Ø§..."></textarea>
                </div>

                <div class="form-group">
                    <label class="form-label">Ù†Øµ Ø§Ù„Ø³Ø¤Ø§Ù„</label>
                    <textarea class="form-textarea" id="qText" placeholder="Ø£Ø¯Ø®Ù„ Ù†Øµ Ø§Ù„Ø³Ø¤Ø§Ù„..."></textarea>
                </div>

                <div class="form-group">
                    <label class="form-label">Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª</label>
                    <div class="form-row">
                        <input type="text" class="form-input" id="optionA" placeholder="Ø£) Ø§Ù„Ø®ÙŠØ§Ø± Ø§Ù„Ø£ÙˆÙ„">
                        <input type="text" class="form-input" id="optionB" placeholder="Ø¨) Ø§Ù„Ø®ÙŠØ§Ø± Ø§Ù„Ø«Ø§Ù†ÙŠ">
                    </div>
                    <div class="form-row" style="margin-top: 0.5rem;">
                        <input type="text" class="form-input" id="optionC" placeholder="Ø¬) Ø§Ù„Ø®ÙŠØ§Ø± Ø§Ù„Ø«Ø§Ù„Ø«">
                        <input type="text" class="form-input" id="optionD" placeholder="Ø¯) Ø§Ù„Ø®ÙŠØ§Ø± Ø§Ù„Ø±Ø§Ø¨Ø¹">
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label">Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©</label>
                        <select class="form-select" id="qCorrect">
                            <option value="0">Ø£</option>
                            <option value="1">Ø¨</option>
                            <option value="2">Ø¬</option>
                            <option value="3">Ø¯</option>
                        </select>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">Ø§Ù„Ø´Ø±Ø­ Ø§Ù„ØªÙØµÙŠÙ„ÙŠ</label>
                    <textarea class="form-textarea" id="qExplanation" placeholder="Ø§Ø´Ø±Ø­ Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø­Ù„ Ø®Ø·ÙˆØ© Ø¨Ø®Ø·ÙˆØ©..."></textarea>
                </div>

                <button class="btn btn-success btn-block" onclick="addQuestion()">
                    âœ“ Ø­ÙØ¸ Ø§Ù„Ø³Ø¤Ø§Ù„
                </button>
            </div>

            <!-- Manage Questions -->
            <div class="admin-form" id="adminManage" style="display: none;">
                <h3 style="margin-bottom: 1.5rem;">ğŸ“‹ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£Ø³Ø¦Ù„Ø©</h3>
                
                <div class="form-row" style="margin-bottom: 1.5rem;">
                    <select class="form-select" id="filterSection" onchange="filterQuestions()">
                        <option value="all">ÙƒÙ„ Ø§Ù„Ø£Ù‚Ø³Ø§Ù…</option>
                        <option value="verbal">Ø§Ù„Ù„ÙØ¸ÙŠ</option>
                        <option value="quant">Ø§Ù„ÙƒÙ…ÙŠ</option>
                    </select>
                    <select class="form-select" id="filterDifficulty" onchange="filterQuestions()">
                        <option value="all">ÙƒÙ„ Ø§Ù„Ù…Ø³ØªÙˆÙŠØ§Øª</option>
                        <option value="easy">Ø³Ù‡Ù„</option>
                        <option value="medium">Ù…ØªÙˆØ³Ø·</option>
                        <option value="hard">ØµØ¹Ø¨</option>
                    </select>
                </div>

                <div style="overflow-x: auto;">
                    <table class="questions-table" id="questionsTable">
                        <thead>
                            <tr>
                                <th>#</th>
                                <th>Ø§Ù„Ø³Ø¤Ø§Ù„</th>
                                <th>Ø§Ù„Ù‚Ø³Ù…</th>
                                <th>Ø§Ù„ØµØ¹ÙˆØ¨Ø©</th>
                                <th>Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª</th>
                            </tr>
                        </thead>
                        <tbody id="questionsTableBody">
                            <!-- Questions will be loaded here -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Manage Tests -->
            <div class="admin-form" id="adminTests" style="display: none;">
                <h3 style="margin-bottom: 1.5rem;">ğŸ“ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª</h3>
                
                <div class="form-group">
                    <label class="form-label">Ø§Ø³Ù… Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±</label>
                    <input type="text" class="form-input" id="testName" placeholder="Ù…Ø«Ø§Ù„: Ø§Ø®ØªØ¨Ø§Ø± ØªØ¬Ø±ÙŠØ¨ÙŠ 1">
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label">Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ù„ÙØ¸ÙŠØ©</label>
                        <input type="number" class="form-input" id="testVerbalCount" value="10" min="0">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„ÙƒÙ…ÙŠØ©</label>
                        <input type="number" class="form-input" id="testQuantCount" value="10" min="0">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Ø§Ù„ÙˆÙ‚Øª (Ø¨Ø§Ù„Ø¯Ù‚Ø§Ø¦Ù‚)</label>
                        <input type="number" class="form-input" id="testTime" value="30" min="1">
                    </div>
                </div>

                <button class="btn btn-success" onclick="createTest()">
                    âœ“ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ø®ØªØ¨Ø§Ø±
                </button>

                <h4 style="margin: 2rem 0 1rem;">Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø§Ù„Ø­Ø§Ù„ÙŠØ©</h4>
                <div id="adminTestsList">
                    <!-- Tests will be loaded here -->
                </div>
            </div>
        </div>

    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-links">
                <a href="#" onclick="showPage('home')">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
                <a href="#" onclick="showPage('verbal')">Ø§Ù„Ù„ÙØ¸ÙŠ</a>
                <a href="#" onclick="showPage('quant')">Ø§Ù„ÙƒÙ…ÙŠ</a>
                <a href="#" onclick="showPage('tests')">Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª</a>
                <a href="#" onclick="showPage('admin')">Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</a>
            </div>
            <p>ØªØ·ÙˆÙŠØ±: <strong>Ø¹Ø¨Ø¯Ø§Ù„ÙƒØ±ÙŠÙ… Ø§Ù„Ø¹Ø¨ÙˆØ¯</strong> | <a href="mailto:abo.saleh.g@gmail.com">abo.saleh.g@gmail.com</a></p>
            <p style="margin-top: 0.5rem; opacity: 0.7;">Â© 2024 Ù‚Ø¯Ø±Ø§ØªÙŠ - Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©</p>
        </div>
    </footer>

    <!-- Edit Question Modal -->
    <div class="modal" id="editModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø³Ø¤Ø§Ù„</h3>
                <button class="modal-close" onclick="closeEditModal()">Ã—</button>
            </div>
            <div id="editModalContent">
                <!-- Edit form will be loaded here -->
            </div>
        </div>
    </div>

    <script>
        // ==================== Data Store ====================
        let questionsDB = [];
        let testsDB = [];
        let userProgress = {
            streak: 0,
            lastActive: null,
            questionsAnswered: 0,
            correctAnswers: 0,
            savedQuestions: [],
            categoryProgress: {},
            testResults: [],
            dailyStats: {}
        };

        // Current session state
        let currentSession = {
            mode: null, // 'practice' or 'test'
            section: null,
            subcategory: null,
            questions: [],
            currentIndex: 0,
            answers: [],
            startTime: null,
            timeLimit: null,
            timerInterval: null
        };

        // ==================== Initialization ====================
        function init() {
            loadData();
            loadSampleData();
            updateUI();
            updateStreak();
            renderTests();
            renderSolvedExamples();
            renderSavedQuestions();
            renderProgress();
            renderQuestionsTable();
        }

        function loadData() {
            const stored = localStorage.getItem('qudurat_data');
            if (stored) {
                const data = JSON.parse(stored);
                questionsDB = data.questions || [];
                testsDB = data.tests || [];
                userProgress = { ...userProgress, ...data.progress };
            }
        }

        function saveData() {
            localStorage.setItem('qudurat_data', JSON.stringify({
                questions: questionsDB,
                tests: testsDB,
                progress: userProgress
            }));
        }

        function loadSampleData() {
            if (questionsDB.length === 0) {
                questionsDB = getSampleQuestions();
            }
            if (testsDB.length === 0) {
                testsDB = getSampleTests();
            }
            saveData();
        }

        // ==================== Sample Data ====================
        function getSampleQuestions() {
            return [
                // Ø§Ù„ØªÙ†Ø§Ø¸Ø± Ø§Ù„Ù„ÙØ¸ÙŠ
                {
                    id: 1,
                    section: 'verbal',
                    subcategory: 'analogy',
                    difficulty: 'easy',
                    text: 'Ù‚Ù„Ù… : ÙƒØªØ§Ø¨Ø©',
                    options: ['Ø³ÙŠØ§Ø±Ø© : Ø·Ø±ÙŠÙ‚', 'Ù…Ù‚Øµ : Ù‚Ø·Ø¹', 'ÙƒØªØ§Ø¨ : Ù…ÙƒØªØ¨Ø©', 'Ø¨Ø§Ø¨ : Ù…Ù†Ø²Ù„'],
                    correct: 1,
                    explanation: 'Ø§Ù„Ø¹Ù„Ø§Ù‚Ø© Ù‡ÙŠ Ø£Ø¯Ø§Ø© ÙˆÙˆØ¸ÙŠÙØªÙ‡Ø§. Ø§Ù„Ù‚Ù„Ù… Ø£Ø¯Ø§Ø© Ù„Ù„ÙƒØªØ§Ø¨Ø©ØŒ ÙˆØ§Ù„Ù…Ù‚Øµ Ø£Ø¯Ø§Ø© Ù„Ù„Ù‚Ø·Ø¹.'
                },
                {
                    id: 2,
                    section: 'verbal',
                    subcategory: 'analogy',
                    difficulty: 'medium',
                    text: 'Ø·Ø¨ÙŠØ¨ : Ù…Ø³ØªØ´ÙÙ‰',
                    options: ['Ù…Ø¹Ù„Ù… : Ù…Ø¯Ø±Ø³Ø©', 'Ø³ÙŠØ§Ø±Ø© : Ø´Ø§Ø±Ø¹', 'ÙƒØªØ§Ø¨ : ÙˆØ±Ù‚', 'Ù…Ø§Ø¡ : Ù†Ù‡Ø±'],
                    correct: 0,
                    explanation: 'Ø§Ù„Ø¹Ù„Ø§Ù‚Ø© Ù‡ÙŠ Ø´Ø®Øµ ÙˆÙ…ÙƒØ§Ù† Ø¹Ù…Ù„Ù‡. Ø§Ù„Ø·Ø¨ÙŠØ¨ ÙŠØ¹Ù…Ù„ ÙÙŠ Ø§Ù„Ù…Ø³ØªØ´ÙÙ‰ØŒ ÙˆØ§Ù„Ù…Ø¹Ù„Ù… ÙŠØ¹Ù…Ù„ ÙÙŠ Ø§Ù„Ù…Ø¯Ø±Ø³Ø©.'
                },
                {
                    id: 3,
                    section: 'verbal',
                    subcategory: 'analogy',
                    difficulty: 'hard',
                    text: 'Ø¬Ø°Ø± : Ø´Ø¬Ø±Ø©',
                    options: ['Ø³Ù‚Ù : Ù…Ù†Ø²Ù„', 'Ø£Ø³Ø§Ø³ : Ø¨Ù†Ø§Ø¡', 'Ø¨Ø§Ø¨ : ØºØ±ÙØ©', 'Ù†Ø§ÙØ°Ø© : Ø¬Ø¯Ø§Ø±'],
                    correct: 1,
                    explanation: 'Ø§Ù„Ø¹Ù„Ø§Ù‚Ø© Ù‡ÙŠ Ø§Ù„Ø¬Ø²Ø¡ Ø§Ù„Ø°ÙŠ ÙŠØ«Ø¨Øª Ø§Ù„ÙƒÙ„. Ø§Ù„Ø¬Ø°Ø± ÙŠØ«Ø¨Øª Ø§Ù„Ø´Ø¬Ø±Ø©ØŒ ÙˆØ§Ù„Ø£Ø³Ø§Ø³ ÙŠØ«Ø¨Øª Ø§Ù„Ø¨Ù†Ø§Ø¡.'
                },
                // Ø¥ÙƒÙ…Ø§Ù„ Ø§Ù„Ø¬Ù…Ù„
                {
                    id: 4,
                    section: 'verbal',
                    subcategory: 'completion',
                    difficulty: 'easy',
                    text: 'Ø§Ù„Ø¹Ù„Ù… Ù†ÙˆØ± Ùˆ______ Ø¸Ù„Ø§Ù…',
                    options: ['Ø§Ù„ÙƒØªØ§Ø¨', 'Ø§Ù„Ø¬Ù‡Ù„', 'Ø§Ù„Ù‚Ø±Ø§Ø¡Ø©', 'Ø§Ù„Ù…Ø¹Ø±ÙØ©'],
                    correct: 1,
                    explanation: 'Ø§Ù„Ø¬Ù…Ù„Ø© ØªÙ‚Ø§Ø±Ù† Ø¨ÙŠÙ† Ø§Ù„Ø¹Ù„Ù… ÙˆØ§Ù„Ø¬Ù‡Ù„ ÙƒØ¶Ø¯ÙŠÙ†ØŒ ÙØ§Ù„Ø¹Ù„Ù… Ù†ÙˆØ± ÙˆØ§Ù„Ø¬Ù‡Ù„ Ø¸Ù„Ø§Ù….'
                },
                {
                    id: 5,
                    section: 'verbal',
                    subcategory: 'completion',
                    difficulty: 'medium',
                    text: 'Ù…Ù† Ø¬Ø¯ ______ ÙˆÙ…Ù† Ø²Ø±Ø¹ Ø­ØµØ¯',
                    options: ['Ù†Ø¬Ø­', 'ÙˆØ¬Ø¯', 'ÙØ§Ø²', 'Ø±Ø¨Ø­'],
                    correct: 1,
                    explanation: 'Ù‡Ø°Ø§ Ù…Ø«Ù„ Ø¹Ø±Ø¨ÙŠ Ø´Ù‡ÙŠØ± "Ù…Ù† Ø¬Ø¯ ÙˆØ¬Ø¯" Ø£ÙŠ Ù…Ù† Ø§Ø¬ØªÙ‡Ø¯ ÙˆØ¬Ø¯ Ù…Ø§ ÙŠØ±ÙŠØ¯.'
                },
                // Ø§Ù„Ø§Ø³ØªÙŠØ¹Ø§Ø¨ Ø§Ù„Ù…Ù‚Ø±ÙˆØ¡
                {
                    id: 6,
                    section: 'verbal',
                    subcategory: 'reading',
                    difficulty: 'medium',
                    context: 'Ø§Ù„Ù‚Ø±Ø§Ø¡Ø© ØºØ°Ø§Ø¡ Ø§Ù„Ø¹Ù‚Ù„ ÙˆØ§Ù„Ø±ÙˆØ­ØŒ ÙÙ‡ÙŠ ØªÙØªØ­ Ø¢ÙØ§Ù‚Ø§Ù‹ Ø¬Ø¯ÙŠØ¯Ø© Ù„Ù„Ø¥Ù†Ø³Ø§Ù† ÙˆØªØ²ÙŠØ¯ Ù…Ù† Ù…Ø¹Ø±ÙØªÙ‡ Ø¨Ø§Ù„Ø¹Ø§Ù„Ù… Ù…Ù† Ø­ÙˆÙ„Ù‡. Ø¥Ù† Ø§Ù„Ø´Ø®Øµ Ø§Ù„Ø°ÙŠ ÙŠØ¯Ø§ÙˆÙ… Ø¹Ù„Ù‰ Ø§Ù„Ù‚Ø±Ø§Ø¡Ø© ÙŠÙƒØªØ³Ø¨ Ù…Ù‡Ø§Ø±Ø§Øª Ù„ØºÙˆÙŠØ© ÙˆÙÙƒØ±ÙŠØ© ØªÙ…ÙŠØ²Ù‡ Ø¹Ù† ØºÙŠØ±Ù‡ØŒ ÙƒÙ…Ø§ Ø£Ù†Ù‡Ø§ ØªÙ†Ù…ÙŠ Ø§Ù„Ø®ÙŠØ§Ù„ ÙˆØªÙˆØ³Ø¹ Ø§Ù„Ù…Ø¯Ø§Ø±Ùƒ.',
                    text: 'Ù…Ø§ Ø§Ù„ÙÙƒØ±Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© Ù„Ù„Ù†ØµØŸ',
                    options: ['Ø£Ù‡Ù…ÙŠØ© Ø§Ù„Ù‚Ø±Ø§Ø¡Ø© ÙˆÙÙˆØ§Ø¦Ø¯Ù‡Ø§', 'Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„ÙƒØªØ¨ Ø§Ù„Ù…Ø®ØªÙ„ÙØ©', 'ÙƒÙŠÙÙŠØ© ØªØ¹Ù„Ù… Ø§Ù„Ù‚Ø±Ø§Ø¡Ø©', 'ØªØ§Ø±ÙŠØ® Ø§Ù„ÙƒØªØ§Ø¨Ø©'],
                    correct: 0,
                    explanation: 'Ø§Ù„Ù†Øµ ÙŠØªØ­Ø¯Ø« Ø¨Ø´ÙƒÙ„ Ø±Ø¦ÙŠØ³ÙŠ Ø¹Ù† Ø£Ù‡Ù…ÙŠØ© Ø§Ù„Ù‚Ø±Ø§Ø¡Ø© ÙˆÙÙˆØ§Ø¦Ø¯Ù‡Ø§ Ù„Ù„Ø¹Ù‚Ù„ ÙˆØ§Ù„Ø±ÙˆØ­ ÙˆØ§Ù„Ù…Ù‡Ø§Ø±Ø§Øª.'
                },
                // Ø§Ù„Ø®Ø·Ø£ Ø§Ù„Ø³ÙŠØ§Ù‚ÙŠ
                {
                    id: 7,
                    section: 'verbal',
                    subcategory: 'context',
                    difficulty: 'medium',
                    text: 'Ø§Ù„Ø´Ù…Ø³ ØªØ´Ø±Ù‚ Ù…Ù† Ø§Ù„ØºØ±Ø¨ ÙƒÙ„ ØµØ¨Ø§Ø­ ÙˆØªØ¶ÙŠØ¡ Ø§Ù„Ø¹Ø§Ù„Ù… Ø¨Ù†ÙˆØ±Ù‡Ø§ Ø§Ù„Ø³Ø§Ø·Ø¹',
                    options: ['ØªØ´Ø±Ù‚', 'Ø§Ù„ØºØ±Ø¨', 'ØµØ¨Ø§Ø­', 'Ø§Ù„Ø³Ø§Ø·Ø¹'],
                    correct: 1,
                    explanation: 'Ø§Ù„Ø®Ø·Ø£ Ù‡Ùˆ ÙƒÙ„Ù…Ø© "Ø§Ù„ØºØ±Ø¨"ØŒ ÙˆØ§Ù„ØµØ­ÙŠØ­ Ù‡Ùˆ "Ø§Ù„Ø´Ø±Ù‚" Ù„Ø£Ù† Ø§Ù„Ø´Ù…Ø³ ØªØ´Ø±Ù‚ Ù…Ù† Ø§Ù„Ø´Ø±Ù‚.'
                },
                // Ø§Ù„Ù†Ø³Ø¨ ÙˆØ§Ù„ØªÙ†Ø§Ø³Ø¨
                {
                    id: 8,
                    section: 'quant',
                    subcategory: 'ratio',
                    difficulty: 'easy',
                    text: 'Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ù†Ø³Ø¨Ø© Ø§Ù„Ø£ÙˆÙ„Ø§Ø¯ Ø¥Ù„Ù‰ Ø§Ù„Ø¨Ù†Ø§Øª ÙÙŠ ÙØµÙ„ Ù‡ÙŠ 3:2 ÙˆØ¹Ø¯Ø¯ Ø§Ù„Ø£ÙˆÙ„Ø§Ø¯ 15ØŒ ÙÙ…Ø§ Ø¹Ø¯Ø¯ Ø§Ù„Ø¨Ù†Ø§ØªØŸ',
                    options: ['8', '10', '12', '15'],
                    correct: 1,
                    explanation: '3:2 ØªØ¹Ù†ÙŠ Ø£Ù† Ù„ÙƒÙ„ 3 Ø£ÙˆÙ„Ø§Ø¯ Ù‡Ù†Ø§Ùƒ 2 Ø¨Ù†Ø§Øª. Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ø£ÙˆÙ„Ø§Ø¯ 15ØŒ Ù†Ù‚Ø³Ù… Ø¹Ù„Ù‰ 3 Ù†Ø­ØµÙ„ Ø¹Ù„Ù‰ 5ØŒ Ø«Ù… Ù†Ø¶Ø±Ø¨ ÙÙŠ 2 Ù†Ø­ØµÙ„ Ø¹Ù„Ù‰ 10 Ø¨Ù†Ø§Øª.'
                },
                {
                    id: 9,
                    section: 'quant',
                    subcategory: 'ratio',
                    difficulty: 'medium',
                    text: 'Ø¥Ø°Ø§ ÙƒØ§Ù† Ø«Ù…Ù† 5 ÙƒØªØ¨ 75 Ø±ÙŠØ§Ù„ØŒ ÙÙƒÙ… Ø«Ù…Ù† 8 ÙƒØªØ¨ØŸ',
                    options: ['100 Ø±ÙŠØ§Ù„', '110 Ø±ÙŠØ§Ù„', '120 Ø±ÙŠØ§Ù„', '130 Ø±ÙŠØ§Ù„'],
                    correct: 2,
                    explanation: 'Ø³Ø¹Ø± Ø§Ù„ÙƒØªØ§Ø¨ Ø§Ù„ÙˆØ§Ø­Ø¯ = 75 Ã· 5 = 15 Ø±ÙŠØ§Ù„. Ø³Ø¹Ø± 8 ÙƒØªØ¨ = 15 Ã— 8 = 120 Ø±ÙŠØ§Ù„.'
                },
                // Ø§Ù„Ø¬Ø¨Ø±
                {
                    id: 10,
                    section: 'quant',
                    subcategory: 'algebra',
                    difficulty: 'easy',
                    text: 'Ø¥Ø°Ø§ ÙƒØ§Ù† Ø³ + 7 = 15ØŒ ÙÙ…Ø§ Ù‚ÙŠÙ…Ø© Ø³ØŸ',
                    options: ['6', '7', '8', '22'],
                    correct: 2,
                    explanation: 'Ø³ + 7 = 15ØŒ Ø¥Ø°Ù† Ø³ = 15 - 7 = 8'
                },
                {
                    id: 11,
                    section: 'quant',
                    subcategory: 'algebra',
                    difficulty: 'medium',
                    text: 'Ø¥Ø°Ø§ ÙƒØ§Ù† 2Ø³ - 4 = 10ØŒ ÙÙ…Ø§ Ù‚ÙŠÙ…Ø© Ø³ØŸ',
                    options: ['5', '6', '7', '8'],
                    correct: 2,
                    explanation: '2Ø³ - 4 = 10ØŒ Ø¥Ø°Ù† 2Ø³ = 14ØŒ ÙˆØ¨Ø§Ù„ØªØ§Ù„ÙŠ Ø³ = 7'
                },
                // Ø§Ù„Ø¥Ø­ØµØ§Ø¡
                {
                    id: 12,
                    section: 'quant',
                    subcategory: 'statistics',
                    difficulty: 'easy',
                    text: 'Ù…Ø§ Ù…ØªÙˆØ³Ø· Ø§Ù„Ø£Ø¹Ø¯Ø§Ø¯ Ø§Ù„ØªØ§Ù„ÙŠØ©: 10ØŒ 20ØŒ 30ØŸ',
                    options: ['15', '20', '25', '30'],
                    correct: 1,
                    explanation: 'Ø§Ù„Ù…ØªÙˆØ³Ø· = Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„Ø£Ø¹Ø¯Ø§Ø¯ Ã· Ø¹Ø¯Ø¯Ù‡Ø§ = (10+20+30) Ã· 3 = 60 Ã· 3 = 20'
                },
                {
                    id: 13,
                    section: 'quant',
                    subcategory: 'statistics',
                    difficulty: 'medium',
                    text: 'Ù…Ø§ Ø§Ù„ÙˆØ³ÙŠØ· Ù„Ù„Ø£Ø¹Ø¯Ø§Ø¯: 3ØŒ 7ØŒ 2ØŒ 9ØŒ 5ØŸ',
                    options: ['3', '5', '7', '9'],
                    correct: 1,
                    explanation: 'Ù†Ø±ØªØ¨ Ø§Ù„Ø£Ø¹Ø¯Ø§Ø¯ ØªØµØ§Ø¹Ø¯ÙŠØ§Ù‹: 2ØŒ 3ØŒ 5ØŒ 7ØŒ 9. Ø§Ù„ÙˆØ³ÙŠØ· Ù‡Ùˆ Ø§Ù„Ø¹Ø¯Ø¯ Ø§Ù„Ø£ÙˆØ³Ø· = 5'
                },
                // Ø§Ù„Ù‡Ù†Ø¯Ø³Ø©
                {
                    id: 14,
                    section: 'quant',
                    subcategory: 'geometry',
                    difficulty: 'easy',
                    text: 'Ù…Ø§ Ù…Ø³Ø§Ø­Ø© Ù…Ø±Ø¨Ø¹ Ø·ÙˆÙ„ Ø¶Ù„Ø¹Ù‡ 5 Ø³Ù…ØŸ',
                    options: ['10 Ø³Ù…Â²', '20 Ø³Ù…Â²', '25 Ø³Ù…Â²', '30 Ø³Ù…Â²'],
                    correct: 2,
                    explanation: 'Ù…Ø³Ø§Ø­Ø© Ø§Ù„Ù…Ø±Ø¨Ø¹ = Ø·ÙˆÙ„ Ø§Ù„Ø¶Ù„Ø¹ Ã— Ø·ÙˆÙ„ Ø§Ù„Ø¶Ù„Ø¹ = 5 Ã— 5 = 25 Ø³Ù…Â²'
                },
                {
                    id: 15,
                    section: 'quant',
                    subcategory: 'geometry',
                    difficulty: 'medium',
                    text: 'Ù…Ø§ Ù…Ø­ÙŠØ· Ù…Ø³ØªØ·ÙŠÙ„ Ø·ÙˆÙ„Ù‡ 8 Ø³Ù… ÙˆØ¹Ø±Ø¶Ù‡ 5 Ø³Ù…ØŸ',
                    options: ['13 Ø³Ù…', '26 Ø³Ù…', '40 Ø³Ù…', '45 Ø³Ù…'],
                    correct: 1,
                    explanation: 'Ù…Ø­ÙŠØ· Ø§Ù„Ù…Ø³ØªØ·ÙŠÙ„ = 2 Ã— (Ø§Ù„Ø·ÙˆÙ„ + Ø§Ù„Ø¹Ø±Ø¶) = 2 Ã— (8 + 5) = 2 Ã— 13 = 26 Ø³Ù…'
                },
                // Ø§Ù„Ù…Ù‚Ø§Ø±Ù†Ø©
                {
                    id: 16,
                    section: 'quant',
                    subcategory: 'comparison',
                    difficulty: 'easy',
                    text: 'Ù‚Ø§Ø±Ù† Ø¨ÙŠÙ†: Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰: 3/4 | Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ©: 0.8',
                    options: ['Ø§Ù„Ø£ÙˆÙ„Ù‰ Ø£ÙƒØ¨Ø±', 'Ø§Ù„Ø«Ø§Ù†ÙŠØ© Ø£ÙƒØ¨Ø±', 'Ù…ØªØ³Ø§ÙˆÙŠØªØ§Ù†', 'Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„Ù…Ù‚Ø§Ø±Ù†Ø©'],
                    correct: 1,
                    explanation: '3/4 = 0.75ØŒ Ùˆ 0.8 > 0.75ØŒ Ø¥Ø°Ù† Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ© Ø£ÙƒØ¨Ø±.'
                },
                {
                    id: 17,
                    section: 'quant',
                    subcategory: 'comparison',
                    difficulty: 'hard',
                    text: 'Ù‚Ø§Ø±Ù† Ø¨ÙŠÙ†: Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰: âˆš16 + âˆš9 | Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ©: âˆš25',
                    options: ['Ø§Ù„Ø£ÙˆÙ„Ù‰ Ø£ÙƒØ¨Ø±', 'Ø§Ù„Ø«Ø§Ù†ÙŠØ© Ø£ÙƒØ¨Ø±', 'Ù…ØªØ³Ø§ÙˆÙŠØªØ§Ù†', 'Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„Ù…Ù‚Ø§Ø±Ù†Ø©'],
                    correct: 0,
                    explanation: 'âˆš16 + âˆš9 = 4 + 3 = 7ØŒ Ùˆ âˆš25 = 5ØŒ Ø¥Ø°Ù† Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰ (7) Ø£ÙƒØ¨Ø± Ù…Ù† Ø§Ù„Ø«Ø§Ù†ÙŠØ© (5).'
                },
                // Ø£Ø³Ø¦Ù„Ø© Ø¥Ø¶Ø§ÙÙŠØ©
                {
                    id: 18,
                    section: 'verbal',
                    subcategory: 'analogy',
                    difficulty: 'medium',
                    text: 'Ø³Ù…Ø§Ø¡ : Ø£Ø²Ø±Ù‚',
                    options: ['Ø¹Ø´Ø¨ : Ø£Ø®Ø¶Ø±', 'Ø´Ù…Ø³ : Ù„ÙŠÙ„', 'Ø¨Ø­Ø± : Ø³Ù…Ùƒ', 'Ø¬Ø¨Ù„ : Ø³Ù‡Ù„'],
                    correct: 0,
                    explanation: 'Ø§Ù„Ø¹Ù„Ø§Ù‚Ø© Ù‡ÙŠ Ø´ÙŠØ¡ ÙˆÙ„ÙˆÙ†Ù‡ Ø§Ù„Ù…Ù…ÙŠØ². Ø§Ù„Ø³Ù…Ø§Ø¡ Ù„ÙˆÙ†Ù‡Ø§ Ø£Ø²Ø±Ù‚ØŒ ÙˆØ§Ù„Ø¹Ø´Ø¨ Ù„ÙˆÙ†Ù‡ Ø£Ø®Ø¶Ø±.'
                },
                {
                    id: 19,
                    section: 'quant',
                    subcategory: 'algebra',
                    difficulty: 'hard',
                    text: 'Ø¥Ø°Ø§ ÙƒØ§Ù† (Ø³ + 2)Â² = 25ØŒ ÙÙ…Ø§ Ù‚ÙŠÙ…Ø© Ø³ Ø§Ù„Ù…ÙˆØ¬Ø¨Ø©ØŸ',
                    options: ['2', '3', '4', '5'],
                    correct: 1,
                    explanation: '(Ø³ + 2)Â² = 25ØŒ Ø¥Ø°Ù† Ø³ + 2 = 5 Ø£Ùˆ Ø³ + 2 = -5. Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ù…ÙˆØ¬Ø¨Ø©: Ø³ = 5 - 2 = 3'
                },
                {
                    id: 20,
                    section: 'quant',
                    subcategory: 'geometry',
                    difficulty: 'hard',
                    text: 'Ù…Ø«Ù„Ø« Ù‚Ø§Ø¦Ù… Ø§Ù„Ø²Ø§ÙˆÙŠØ© Ø·ÙˆÙ„ Ø£Ø­Ø¯ Ø¶Ù„Ø¹ÙŠÙ‡ Ø§Ù„Ù‚Ø§Ø¦Ù…ÙŠÙ† 3 Ø³Ù… ÙˆØ§Ù„Ø¢Ø®Ø± 4 Ø³Ù…ØŒ Ù…Ø§ Ø·ÙˆÙ„ Ø§Ù„ÙˆØªØ±ØŸ',
                    options: ['5 Ø³Ù…', '6 Ø³Ù…', '7 Ø³Ù…', '8 Ø³Ù…'],
                    correct: 0,
                    explanation: 'Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù†Ø¸Ø±ÙŠØ© ÙÙŠØ«Ø§ØºÙˆØ±Ø³: Ø§Ù„ÙˆØªØ±Â² = 3Â² + 4Â² = 9 + 16 = 25ØŒ Ø¥Ø°Ù† Ø§Ù„ÙˆØªØ± = 5 Ø³Ù…'
                }
            ];
        }

        function getSampleTests() {
            return [
                {
                    id: 1,
                    name: 'Ø§Ø®ØªØ¨Ø§Ø± ØªØ¬Ø±ÙŠØ¨ÙŠ Ø´Ø§Ù…Ù„ 1',
                    verbalCount: 10,
                    quantCount: 10,
                    timeLimit: 30,
                    description: 'Ø§Ø®ØªØ¨Ø§Ø± Ø´Ø§Ù…Ù„ ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ 20 Ø³Ø¤Ø§Ù„'
                },
                {
                    id: 2,
                    name: 'Ø§Ø®ØªØ¨Ø§Ø± Ø³Ø±ÙŠØ¹ - Ù„ÙØ¸ÙŠ',
                    verbalCount: 10,
                    quantCount: 0,
                    timeLimit: 15,
                    description: 'Ø§Ø®ØªØ¨Ø§Ø± Ø³Ø±ÙŠØ¹ Ù„Ù„Ù‚Ø³Ù… Ø§Ù„Ù„ÙØ¸ÙŠ'
                },
                {
                    id: 3,
                    name: 'Ø§Ø®ØªØ¨Ø§Ø± Ø³Ø±ÙŠØ¹ - ÙƒÙ…ÙŠ',
                    verbalCount: 0,
                    quantCount: 10,
                    timeLimit: 15,
                    description: 'Ø§Ø®ØªØ¨Ø§Ø± Ø³Ø±ÙŠØ¹ Ù„Ù„Ù‚Ø³Ù… Ø§Ù„ÙƒÙ…ÙŠ'
                }
            ];
        }

        // ==================== Navigation ====================
        function showPage(pageName) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            document.querySelectorAll('.nav-link').forEach(l => l.classList.remove('active'));
            
            const page = document.getElementById(`page-${pageName}`);
            if (page) page.classList.add('active');
            
            const link = document.querySelector(`.nav-link[data-page="${pageName}"]`);
            if (link) link.classList.add('active');

            // Stop timer if leaving practice/test
            if (pageName !== 'practice' && currentSession.timerInterval) {
                clearInterval(currentSession.timerInterval);
                document.getElementById('timerContainer').classList.remove('show');
            }

            // Refresh content
            if (pageName === 'tests') renderTests();
            if (pageName === 'saved') renderSavedQuestions();
            if (pageName === 'progress') renderProgress();
            if (pageName === 'solved') renderSolvedExamples();

            // Scroll to top
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function toggleMobileMenu() {
            document.getElementById('navLinks').classList.toggle('show');
        }

        // ==================== Practice Mode ====================
        function startPractice(section, subcategory) {
            const questions = questionsDB.filter(q => 
                q.section === section && q.subcategory === subcategory
            );

            if (questions.length === 0) {
                alert('Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£Ø³Ø¦Ù„Ø© ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„Ù‚Ø³Ù… Ø­Ø§Ù„ÙŠØ§Ù‹');
                return;
            }

            currentSession = {
                mode: 'practice',
                section: section,
                subcategory: subcategory,
                questions: shuffleArray([...questions]),
                currentIndex: 0,
                answers: new Array(questions.length).fill(null),
                startTime: Date.now(),
                timeLimit: null,
                timerInterval: null
            };

            document.getElementById('practiceBackBtn').onclick = () => showPage(section);
            showPage('practice');
            renderQuestion();
        }

        function startTest(testId) {
            const test = testsDB.find(t => t.id === testId);
            if (!test) return;

            let questions = [];
            
            // Get verbal questions
            const verbalQ = shuffleArray(questionsDB.filter(q => q.section === 'verbal'));
            questions = questions.concat(verbalQ.slice(0, test.verbalCount));
            
            // Get quant questions
            const quantQ = shuffleArray(questionsDB.filter(q => q.section === 'quant'));
            questions = questions.concat(quantQ.slice(0, test.quantCount));

            if (questions.length === 0) {
                alert('Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£Ø³Ø¦Ù„Ø© ÙƒØ§ÙÙŠØ© Ù„Ù‡Ø°Ø§ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±');
                return;
            }

            currentSession = {
                mode: 'test',
                section: 'mixed',
                subcategory: null,
                questions: shuffleArray(questions),
                currentIndex: 0,
                answers: new Array(questions.length).fill(null),
                startTime: Date.now(),
                timeLimit: test.timeLimit * 60 * 1000,
                timerInterval: null,
                testName: test.name
            };

            document.getElementById('practiceBackBtn').onclick = () => {
                if (confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±ØŸ')) {
                    finishPractice();
                }
            };

            showPage('practice');
            renderQuestion();
            startTimer();
        }

        function renderQuestion() {
            const q = currentSession.questions[currentSession.currentIndex];
            const total = currentSession.questions.length;
            const current = currentSession.currentIndex + 1;

            // Update progress
            document.getElementById('practiceProgress').style.width = 
                `${(current / total) * 100}%`;

            // Check if saved
            const isSaved = userProgress.savedQuestions.includes(q.id);
            const savedIcon = isSaved ? 'ğŸ”–' : 'â˜†';

            // Difficulty label
            const diffLabels = { easy: 'Ø³Ù‡Ù„', medium: 'Ù…ØªÙˆØ³Ø·', hard: 'ØµØ¹Ø¨' };
            const diffClass = `difficulty-${q.difficulty}`;

            let html = `
                <span class="saved-indicator" onclick="toggleSaveQuestion(${q.id})">${savedIcon}</span>
                <div class="question-header">
                    <span class="question-number">Ø§Ù„Ø³Ø¤Ø§Ù„ ${current} Ù…Ù† ${total}</span>
                    <span class="question-difficulty ${diffClass}">${diffLabels[q.difficulty]}</span>
                </div>
            `;

            if (q.context) {
                html += `<div class="question-context">${q.context}</div>`;
            }

            html += `<div class="question-text">${q.text}</div>`;

            html += '<div class="options-list">';
            const letters = ['Ø£', 'Ø¨', 'Ø¬', 'Ø¯'];
            q.options.forEach((opt, i) => {
                const selectedClass = currentSession.answers[currentSession.currentIndex] === i ? 'selected' : '';
                html += `
                    <div class="option ${selectedClass}" onclick="selectOption(${i})">
                        <span class="option-letter">${letters[i]}</span>
                        <span>${opt}</span>
                    </div>
                `;
            });
            html += '</div>';

            document.getElementById('questionContainer').innerHTML = html;
            document.getElementById('explanationBox').classList.remove('show');

            // Update buttons
            document.getElementById('prevBtn').style.display = current > 1 ? 'inline-flex' : 'none';
            document.getElementById('nextBtn').style.display = current < total ? 'inline-flex' : 'none';
            document.getElementById('finishBtn').style.display = current === total ? 'inline-flex' : 'none';
        }

        function selectOption(index) {
            currentSession.answers[currentSession.currentIndex] = index;
            
            const q = currentSession.questions[currentSession.currentIndex];
            const options = document.querySelectorAll('.option');
            
            options.forEach((opt, i) => {
                opt.classList.remove('selected', 'correct', 'wrong');
                if (currentSession.mode === 'practice') {
                    if (i === q.correct) {
                        opt.classList.add('correct');
                    } else if (i === index && i !== q.correct) {
                        opt.classList.add('wrong');
                    }
                } else if (i === index) {
                    opt.classList.add('selected');
                }
            });

            // Show explanation in practice mode
            if (currentSession.mode === 'practice') {
                document.getElementById('explanationText').textContent = q.explanation;
                document.getElementById('explanationBox').classList.add('show');
                
                // Update progress
                updateCategoryProgress(q.section, q.subcategory, index === q.correct);
            }
        }

        function previousQuestion() {
            if (currentSession.currentIndex > 0) {
                currentSession.currentIndex--;
                renderQuestion();
            }
        }

        function nextQuestion() {
            if (currentSession.currentIndex < currentSession.questions.length - 1) {
                currentSession.currentIndex++;
                renderQuestion();
            }
        }

        function finishPractice() {
            if (currentSession.timerInterval) {
                clearInterval(currentSession.timerInterval);
                document.getElementById('timerContainer').classList.remove('show');
            }

            const results = calculateResults();
            saveResults(results);
            renderResults(results);
            showPage('results');
        }

        // ==================== Timer ====================
        function startTimer() {
            const container = document.getElementById('timerContainer');
            const timerValue = document.getElementById('timerValue');
            container.classList.add('show');

            currentSession.timerInterval = setInterval(() => {
                const elapsed = Date.now() - currentSession.startTime;
                const remaining = currentSession.timeLimit - elapsed;

                if (remaining <= 0) {
                    clearInterval(currentSession.timerInterval);
                    finishPractice();
                    return;
                }

                const minutes = Math.floor(remaining / 60000);
                const seconds = Math.floor((remaining % 60000) / 1000);
                timerValue.textContent = `${String(minutes).padStart(2, '0')}:${String(seconds).padStart(2, '0')}`;

                timerValue.classList.remove('warning', 'danger');
                if (remaining < 60000) {
                    timerValue.classList.add('danger');
                } else if (remaining < 300000) {
                    timerValue.classList.add('warning');
                }
            }, 1000);
        }

        // ==================== Results ====================
        function calculateResults() {
            let correct = 0;
            let wrong = 0;
            let unanswered = 0;
            const categoryStats = {};

            currentSession.questions.forEach((q, i) => {
                const key = `${q.section}_${q.subcategory}`;
                if (!categoryStats[key]) {
                    categoryStats[key] = { correct: 0, total: 0 };
                }
                categoryStats[key].total++;

                if (currentSession.answers[i] === null) {
                    unanswered++;
                } else if (currentSession.answers[i] === q.correct) {
                    correct++;
                    categoryStats[key].correct++;
                } else {
                    wrong++;
                }
            });

            const total = currentSession.questions.length;
            const percentage = Math.round((correct / total) * 100);
            const timeSpent = Date.now() - currentSession.startTime;

            return {
                correct,
                wrong,
                unanswered,
                total,
                percentage,
                timeSpent,
                categoryStats,
                mode: currentSession.mode,
                testName: currentSession.testName || null
            };
        }

        function saveResults(results) {
            userProgress.questionsAnswered += results.total;
            userProgress.correctAnswers += results.correct;

            if (results.mode === 'test') {
                userProgress.testResults.push({
                    date: new Date().toISOString(),
                    name: results.testName,
                    percentage: results.percentage,
                    correct: results.correct,
                    total: results.total,
                    timeSpent: results.timeSpent
                });
            }

            // Update daily stats
            const today = new Date().toDateString();
            if (!userProgress.dailyStats[today]) {
                userProgress.dailyStats[today] = { questions: 0, correct: 0 };
            }
            userProgress.dailyStats[today].questions += results.total;
            userProgress.dailyStats[today].correct += results.correct;

            saveData();
        }

        function renderResults(results) {
            let scoreClass = 'poor';
            if (results.percentage >= 85) scoreClass = 'excellent';
            else if (results.percentage >= 70) scoreClass = 'good';
            else if (results.percentage >= 50) scoreClass = 'average';

            const minutes = Math.floor(results.timeSpent / 60000);
            const seconds = Math.floor((results.timeSpent % 60000) / 1000);

            // Find strengths and weaknesses
            const categories = Object.entries(results.categoryStats);
            const strengths = categories
                .filter(([_, s]) => s.correct / s.total >= 0.7)
                .map(([k]) => getCategoryName(k));
            const weaknesses = categories
                .filter(([_, s]) => s.correct / s.total < 0.5)
                .map(([k]) => getCategoryName(k));

            let html = `
                <h2 style="margin-bottom: 2rem;">ğŸ‰ Ù†ØªÙŠØ¬Ø© ${results.mode === 'test' ? 'Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±' : 'Ø§Ù„ØªØ¯Ø±ÙŠØ¨'}</h2>
                
                <div class="results-score ${scoreClass}">
                    <span class="score-value">${results.percentage}%</span>
                    <span class="score-label">Ù†Ø³Ø¨Ø© Ø§Ù„Ù†Ø¬Ø§Ø­</span>
                </div>

                <div class="results-details">
                    <div class="result-stat correct">
                        <span class="result-stat-value">${results.correct}</span>
                        <span class="result-stat-label">Ø¥Ø¬Ø§Ø¨Ø§Øª ØµØ­ÙŠØ­Ø©</span>
                    </div>
                    <div class="result-stat wrong">
                        <span class="result-stat-value">${results.wrong}</span>
                        <span class="result-stat-label">Ø¥Ø¬Ø§Ø¨Ø§Øª Ø®Ø§Ø·Ø¦Ø©</span>
                    </div>
                    <div class="result-stat time">
                        <span class="result-stat-value">${minutes}:${String(seconds).padStart(2, '0')}</span>
                        <span class="result-stat-label">Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…Ø³ØªØºØ±Ù‚</span>
                    </div>
                </div>

                <div class="strength-weakness" style="margin-top: 2rem;">
                    <div class="sw-card strength">
                        <h4>âœ… Ù†Ù‚Ø§Ø· Ø§Ù„Ù‚ÙˆØ©</h4>
                        <ul class="sw-list">
                            ${strengths.length > 0 ? strengths.map(s => `<li>â­ ${s}</li>`).join('') : '<li>Ø§Ø³ØªÙ…Ø± ÙÙŠ Ø§Ù„ØªØ¯Ø±ÙŠØ¨ Ù„ØªØ­Ø³ÙŠÙ† Ø£Ø¯Ø§Ø¦Ùƒ</li>'}
                        </ul>
                    </div>
                    <div class="sw-card weakness">
                        <h4>âš ï¸ ØªØ­ØªØ§Ø¬ ØªØ­Ø³ÙŠÙ†</h4>
                        <ul class="sw-list">
                            ${weaknesses.length > 0 ? weaknesses.map(w => `<li>ğŸ“ ${w}</li>`).join('') : '<li>Ø£Ø¯Ø§Ø¡ Ù…Ù…ØªØ§Ø²! Ø§Ø³ØªÙ…Ø±</li>'}
                        </ul>
                    </div>
                </div>

                <div style="margin-top: 2rem; display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap;">
                    <button class="btn btn-primary" onclick="showPage('home')">Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>
                    <button class="btn btn-secondary" onclick="showPage('tests')">Ø§Ø®ØªØ¨Ø§Ø± Ø¢Ø®Ø±</button>
                </div>
            `;

            document.getElementById('resultsContainer').innerHTML = html;
        }

        function getCategoryName(key) {
            const names = {
                'verbal_analogy': 'Ø§Ù„ØªÙ†Ø§Ø¸Ø± Ø§Ù„Ù„ÙØ¸ÙŠ',
                'verbal_completion': 'Ø¥ÙƒÙ…Ø§Ù„ Ø§Ù„Ø¬Ù…Ù„',
                'verbal_reading': 'Ø§Ù„Ø§Ø³ØªÙŠØ¹Ø§Ø¨ Ø§Ù„Ù…Ù‚Ø±ÙˆØ¡',
                'verbal_context': 'Ø§Ù„Ø®Ø·Ø£ Ø§Ù„Ø³ÙŠØ§Ù‚ÙŠ',
                'quant_ratio': 'Ø§Ù„Ù†Ø³Ø¨ ÙˆØ§Ù„ØªÙ†Ø§Ø³Ø¨',
                'quant_algebra': 'Ø§Ù„Ø¬Ø¨Ø± ÙˆØ§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø§Øª',
                'quant_statistics': 'Ø§Ù„Ø¥Ø­ØµØ§Ø¡',
                'quant_geometry': 'Ø§Ù„Ù‡Ù†Ø¯Ø³Ø©',
                'quant_comparison': 'Ø§Ù„Ù…Ù‚Ø§Ø±Ù†Ø©'
            };
            return names[key] || key;
        }

        // ==================== Progress Tracking ====================
        function updateCategoryProgress(section, subcategory, isCorrect) {
            const key = `${section}_${subcategory}`;
            if (!userProgress.categoryProgress[key]) {
                userProgress.categoryProgress[key] = { attempted: 0, correct: 0 };
            }
            userProgress.categoryProgress[key].attempted++;
            if (isCorrect) userProgress.categoryProgress[key].correct++;
            saveData();
        }

        function updateStreak() {
            const today = new Date().toDateString();
            const yesterday = new Date(Date.now() - 86400000).toDateString();
            
            if (userProgress.lastActive === today) {
                // Already active today
            } else if (userProgress.lastActive === yesterday) {
                userProgress.streak++;
                userProgress.lastActive = today;
            } else {
                userProgress.streak = 1;
                userProgress.lastActive = today;
            }
            
            document.getElementById('streakCount').textContent = userProgress.streak;
            saveData();
        }

        // ==================== Saved Questions ====================
        function toggleSaveQuestion(qId) {
            const index = userProgress.savedQuestions.indexOf(qId);
            if (index > -1) {
                userProgress.savedQuestions.splice(index, 1);
            } else {
                userProgress.savedQuestions.push(qId);
            }
            saveData();
            renderQuestion();
        }

        function renderSavedQuestions() {
            const container = document.getElementById('savedList');
            const saved = questionsDB.filter(q => userProgress.savedQuestions.includes(q.id));

            if (saved.length === 0) {
                container.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-state-icon">ğŸ”–</div>
                        <p>Ù„Ù… ØªØ­ÙØ¸ Ø£ÙŠ Ø£Ø³Ø¦Ù„Ø© Ø¨Ø¹Ø¯</p>
                        <p style="font-size: 0.9rem;">Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ â˜† Ø£Ø«Ù†Ø§Ø¡ Ø­Ù„ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ù„Ø­ÙØ¸Ù‡Ø§ Ù‡Ù†Ø§</p>
                    </div>
                `;
                return;
            }

            container.innerHTML = saved.map(q => `
                <div class="question-container" style="margin-bottom: 1rem;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                        <span class="question-difficulty difficulty-${q.difficulty}">
                            ${q.difficulty === 'easy' ? 'Ø³Ù‡Ù„' : q.difficulty === 'medium' ? 'Ù…ØªÙˆØ³Ø·' : 'ØµØ¹Ø¨'}
                        </span>
                        <button class="btn btn-sm btn-danger" onclick="removeSaved(${q.id})">Ø¥Ø²Ø§Ù„Ø©</button>
                    </div>
                    <div class="question-text">${q.text}</div>
                    <div class="explanation-box show" style="margin-top: 1rem;">
                        <div class="explanation-title">ğŸ’¡ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© ÙˆØ§Ù„Ø´Ø±Ø­</div>
                        <p><strong>Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©:</strong> ${q.options[q.correct]}</p>
                        <p style="margin-top: 0.5rem;">${q.explanation}</p>
                    </div>
                </div>
            `).join('');
        }

        function removeSaved(qId) {
            userProgress.savedQuestions = userProgress.savedQuestions.filter(id => id !== qId);
            saveData();
            renderSavedQuestions();
        }

        // ==================== Tests ====================
        function renderTests() {
            const container = document.getElementById('testsList');
            
            container.innerHTML = testsDB.map(test => `
                <div class="card" onclick="startTest(${test.id})">
                    <div class="card-icon test">ğŸ“</div>
                    <h3>${test.name}</h3>
                    <p>${test.description}</p>
                    <div class="card-meta">
                        <span class="card-badge">${test.verbalCount + test.quantCount} Ø³Ø¤Ø§Ù„</span>
                        <span class="card-badge">â±ï¸ ${test.timeLimit} Ø¯Ù‚ÙŠÙ‚Ø©</span>
                    </div>
                </div>
            `).join('');
        }

        // ==================== Solved Examples ====================
        function renderSolvedExamples(filter = 'all') {
            const container = document.getElementById('solvedList');
            let questions = questionsDB.filter(q => q.explanation);
            
            if (filter !== 'all') {
                questions = questions.filter(q => q.section === filter);
            }

            container.innerHTML = questions.slice(0, 10).map(q => `
                <div class="question-container" style="margin-bottom: 1.5rem;">
                    <div class="question-header">
                        <span class="card-badge">${getCategoryName(q.section + '_' + q.subcategory)}</span>
                        <span class="question-difficulty difficulty-${q.difficulty}">
                            ${q.difficulty === 'easy' ? 'Ø³Ù‡Ù„' : q.difficulty === 'medium' ? 'Ù…ØªÙˆØ³Ø·' : 'ØµØ¹Ø¨'}
                        </span>
                    </div>
                    ${q.context ? `<div class="question-context">${q.context}</div>` : ''}
                    <div class="question-text">${q.text}</div>
                    <div class="options-list" style="margin: 1rem 0;">
                        ${q.options.map((opt, i) => `
                            <div class="option ${i === q.correct ? 'correct' : ''}">
                                <span class="option-letter">${['Ø£', 'Ø¨', 'Ø¬', 'Ø¯'][i]}</span>
                                <span>${opt}</span>
                            </div>
                        `).join('')}
                    </div>
                    <div class="explanation-box show">
                        <div class="explanation-title">ğŸ’¡ Ø§Ù„Ø´Ø±Ø­ Ø§Ù„ØªÙØµÙŠÙ„ÙŠ</div>
                        <p>${q.explanation}</p>
                    </div>
                </div>
            `).join('');
        }

        function filterSolved(filter) {
            document.querySelectorAll('#page-solved .admin-tab').forEach(t => t.classList.remove('active'));
            event.target.classList.add('active');
            renderSolvedExamples(filter);
        }

        // ==================== Progress Dashboard ====================
        function renderProgress() {
            // Accuracy stats
            const accuracy = userProgress.questionsAnswered > 0 
                ? Math.round((userProgress.correctAnswers / userProgress.questionsAnswered) * 100) 
                : 0;
            
            document.getElementById('accuracyStats').innerHTML = `
                <div style="text-align: center; padding: 2rem;">
                    <div style="font-size: 3rem; font-weight: 800; color: var(--primary);">${accuracy}%</div>
                    <div style="color: var(--gray);">Ù†Ø³Ø¨Ø© Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø§Øª Ø§Ù„ØµØ­ÙŠØ­Ø©</div>
                </div>
            `;

            // Questions stats
            document.getElementById('questionsStats').innerHTML = `
                <div style="text-align: center; padding: 2rem;">
                    <div style="font-size: 3rem; font-weight: 800; color: var(--primary);">${userProgress.questionsAnswered}</div>
                    <div style="color: var(--gray);">Ø³Ø¤Ø§Ù„ ØªÙ… Ø­Ù„Ù‡</div>
                </div>
            `;

            // Time stats
            const totalTests = userProgress.testResults.length;
            document.getElementById('timeStats').innerHTML = `
                <div style="text-align: center; padding: 2rem;">
                    <div style="font-size: 3rem; font-weight: 800; color: var(--primary);">${totalTests}</div>
                    <div style="color: var(--gray);">Ø§Ø®ØªØ¨Ø§Ø± Ù…ÙƒØªÙ…Ù„</div>
                </div>
            `;

            // Performance chart
            renderPerformanceChart();

            // Strengths and weaknesses
            const catProgress = Object.entries(userProgress.categoryProgress);
            const strengths = catProgress
                .filter(([_, s]) => s.attempted >= 3 && s.correct / s.attempted >= 0.7)
                .map(([k]) => getCategoryName(k));
            const weaknesses = catProgress
                .filter(([_, s]) => s.attempted >= 3 && s.correct / s.attempted < 0.5)
                .map(([k]) => getCategoryName(k));

            document.getElementById('strengthsList').innerHTML = 
                strengths.length > 0 
                    ? strengths.map(s => `<li>â­ ${s}</li>`).join('')
                    : '<li>â­ Ø£ÙƒÙ…Ù„ Ø§Ù„Ù…Ø²ÙŠØ¯ Ù…Ù† Ø§Ù„ØªØ¯Ø±ÙŠØ¨ Ù„Ø§ÙƒØªØ´Ø§Ù Ù†Ù‚Ø§Ø· Ù‚ÙˆØªÙƒ</li>';

            document.getElementById('weaknessesList').innerHTML = 
                weaknesses.length > 0 
                    ? weaknesses.map(w => `<li>ğŸ“ ${w}</li>`).join('')
                    : '<li>ğŸ“ Ø£ÙƒÙ…Ù„ Ø§Ù„Ù…Ø²ÙŠØ¯ Ù…Ù† Ø§Ù„ØªØ¯Ø±ÙŠØ¨ Ù„Ø§ÙƒØªØ´Ø§Ù Ù…Ø§ ØªØ­ØªØ§Ø¬ ØªØ­Ø³ÙŠÙ†Ù‡</li>';

            // Update home page score
            document.getElementById('userScore').textContent = accuracy + '%';
        }

        function renderPerformanceChart() {
            const container = document.getElementById('performanceChart');
            const last7Days = [];
            
            for (let i = 6; i >= 0; i--) {
                const date = new Date(Date.now() - i * 86400000).toDateString();
                const stats = userProgress.dailyStats[date] || { questions: 0, correct: 0 };
                last7Days.push(stats);
            }

            const maxQuestions = Math.max(...last7Days.map(d => d.questions), 1);
            
            container.innerHTML = last7Days.map((day, i) => {
                const height = (day.questions / maxQuestions) * 100;
                return `<div class="chart-bar" style="height: ${Math.max(height, 5)}%" data-value="${day.questions}"></div>`;
            }).join('');
        }

        // ==================== Admin Panel ====================
        function showAdminTab(tab) {
            document.querySelectorAll('#page-admin .admin-tab').forEach(t => t.classList.remove('active'));
            event.target.classList.add('active');
            
            document.getElementById('adminAdd').style.display = tab === 'add' ? 'block' : 'none';
            document.getElementById('adminManage').style.display = tab === 'manage' ? 'block' : 'none';
            document.getElementById('adminTests').style.display = tab === 'tests' ? 'block' : 'none';

            if (tab === 'manage') renderQuestionsTable();
            if (tab === 'tests') renderAdminTests();
        }

        function updateSubcategories() {
            const section = document.getElementById('qSection').value;
            const subcatSelect = document.getElementById('qSubcategory');
            
            const verbal = [
                { value: 'analogy', text: 'Ø§Ù„ØªÙ†Ø§Ø¸Ø± Ø§Ù„Ù„ÙØ¸ÙŠ' },
                { value: 'completion', text: 'Ø¥ÙƒÙ…Ø§Ù„ Ø§Ù„Ø¬Ù…Ù„' },
                { value: 'reading', text: 'Ø§Ù„Ø§Ø³ØªÙŠØ¹Ø§Ø¨ Ø§Ù„Ù…Ù‚Ø±ÙˆØ¡' },
                { value: 'context', text: 'Ø§Ù„Ø®Ø·Ø£ Ø§Ù„Ø³ÙŠØ§Ù‚ÙŠ' }
            ];
            
            const quant = [
                { value: 'ratio', text: 'Ø§Ù„Ù†Ø³Ø¨ ÙˆØ§Ù„ØªÙ†Ø§Ø³Ø¨' },
                { value: 'algebra', text: 'Ø§Ù„Ø¬Ø¨Ø± ÙˆØ§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø§Øª' },
                { value: 'statistics', text: 'Ø§Ù„Ø¥Ø­ØµØ§Ø¡' },
                { value: 'geometry', text: 'Ø§Ù„Ù‡Ù†Ø¯Ø³Ø©' },
                { value: 'comparison', text: 'Ø§Ù„Ù…Ù‚Ø§Ø±Ù†Ø©' }
            ];

            const options = section === 'verbal' ? verbal : quant;
            subcatSelect.innerHTML = options.map(o => 
                `<option value="${o.value}">${o.text}</option>`
            ).join('');
        }

        function addQuestion() {
            const newQ = {
                id: Date.now(),
                section: document.getElementById('qSection').value,
                subcategory: document.getElementById('qSubcategory').value,
                difficulty: document.getElementById('qDifficulty').value,
                context: document.getElementById('qContext').value.trim() || null,
                text: document.getElementById('qText').value.trim(),
                options: [
                    document.getElementById('optionA').value.trim(),
                    document.getElementById('optionB').value.trim(),
                    document.getElementById('optionC').value.trim(),
                    document.getElementById('optionD').value.trim()
                ],
                correct: parseInt(document.getElementById('qCorrect').value),
                explanation: document.getElementById('qExplanation').value.trim()
            };

            if (!newQ.text || newQ.options.some(o => !o)) {
                alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ù…Ù„Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©');
                return;
            }

            questionsDB.push(newQ);
            saveData();
            
            // Clear form
            document.getElementById('qContext').value = '';
            document.getElementById('qText').value = '';
            document.getElementById('optionA').value = '';
            document.getElementById('optionB').value = '';
            document.getElementById('optionC').value = '';
            document.getElementById('optionD').value = '';
            document.getElementById('qExplanation').value = '';

            alert('ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø³Ø¤Ø§Ù„ Ø¨Ù†Ø¬Ø§Ø­!');
        }

        function renderQuestionsTable() {
            const section = document.getElementById('filterSection').value;
            const difficulty = document.getElementById('filterDifficulty').value;
            
            let filtered = [...questionsDB];
            if (section !== 'all') filtered = filtered.filter(q => q.section === section);
            if (difficulty !== 'all') filtered = filtered.filter(q => q.difficulty === difficulty);

            const tbody = document.getElementById('questionsTableBody');
            tbody.innerHTML = filtered.map((q, i) => `
                <tr>
                    <td>${i + 1}</td>
                    <td style="max-width: 300px; overflow: hidden; text-overflow: ellipsis;">${q.text}</td>
                    <td>${q.section === 'verbal' ? 'Ù„ÙØ¸ÙŠ' : 'ÙƒÙ…ÙŠ'}</td>
                    <td><span class="question-difficulty difficulty-${q.difficulty}">${q.difficulty === 'easy' ? 'Ø³Ù‡Ù„' : q.difficulty === 'medium' ? 'Ù…ØªÙˆØ³Ø·' : 'ØµØ¹Ø¨'}</span></td>
                    <td>
                        <div class="table-actions">
                            <button class="action-btn edit" onclick="editQuestion(${q.id})">âœï¸</button>
                            <button class="action-btn delete" onclick="deleteQuestion(${q.id})">ğŸ—‘ï¸</button>
                        </div>
                    </td>
                </tr>
            `).join('');
        }

        function filterQuestions() {
            renderQuestionsTable();
        }

        function deleteQuestion(qId) {
            if (confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ø³Ø¤Ø§Ù„ØŸ')) {
                questionsDB = questionsDB.filter(q => q.id !== qId);
                saveData();
                renderQuestionsTable();
            }
        }

        function editQuestion(qId) {
            const q = questionsDB.find(q => q.id === qId);
            if (!q) return;

            document.getElementById('editModalContent').innerHTML = `
                <div class="form-group">
                    <label class="form-label">Ù†Øµ Ø§Ù„Ø³Ø¤Ø§Ù„</label>
                    <textarea class="form-textarea" id="editText">${q.text}</textarea>
                </div>
                <div class="form-group">
                    <label class="form-label">Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª</label>
                    <input type="text" class="form-input" id="editOpt0" value="${q.options[0]}" style="margin-bottom: 0.5rem;">
                    <input type="text" class="form-input" id="editOpt1" value="${q.options[1]}" style="margin-bottom: 0.5rem;">
                    <input type="text" class="form-input" id="editOpt2" value="${q.options[2]}" style="margin-bottom: 0.5rem;">
                    <input type="text" class="form-input" id="editOpt3" value="${q.options[3]}">
                </div>
                <div class="form-group">
                    <label class="form-label">Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©</label>
                    <select class="form-select" id="editCorrect">
                        <option value="0" ${q.correct === 0 ? 'selected' : ''}>Ø£</option>
                        <option value="1" ${q.correct === 1 ? 'selected' : ''}>Ø¨</option>
                        <option value="2" ${q.correct === 2 ? 'selected' : ''}>Ø¬</option>
                        <option value="3" ${q.correct === 3 ? 'selected' : ''}>Ø¯</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">Ø§Ù„Ø´Ø±Ø­</label>
                    <textarea class="form-textarea" id="editExplanation">${q.explanation}</textarea>
                </div>
                <button class="btn btn-success btn-block" onclick="saveEdit(${q.id})">Ø­ÙØ¸ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„Ø§Øª</button>
            `;

            document.getElementById('editModal').classList.add('show');
        }

        function saveEdit(qId) {
            const q = questionsDB.find(q => q.id === qId);
            if (!q) return;

            q.text = document.getElementById('editText').value;
            q.options = [
                document.getElementById('editOpt0').value,
                document.getElementById('editOpt1').value,
                document.getElementById('editOpt2').value,
                document.getElementById('editOpt3').value
            ];
            q.correct = parseInt(document.getElementById('editCorrect').value);
            q.explanation = document.getElementById('editExplanation').value;

            saveData();
            closeEditModal();
            renderQuestionsTable();
        }

        function closeEditModal() {
            document.getElementById('editModal').classList.remove('show');
        }

        function createTest() {
            const name = document.getElementById('testName').value.trim();
            const verbalCount = parseInt(document.getElementById('testVerbalCount').value);
            const quantCount = parseInt(document.getElementById('testQuantCount').value);
            const timeLimit = parseInt(document.getElementById('testTime').value);

            if (!name) {
                alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±');
                return;
            }

            testsDB.push({
                id: Date.now(),
                name,
                verbalCount,
                quantCount,
                timeLimit,
                description: `${verbalCount + quantCount} Ø³Ø¤Ø§Ù„ ÙÙŠ ${timeLimit} Ø¯Ù‚ÙŠÙ‚Ø©`
            });

            saveData();
            document.getElementById('testName').value = '';
            renderAdminTests();
            alert('ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± Ø¨Ù†Ø¬Ø§Ø­!');
        }

        function renderAdminTests() {
            const container = document.getElementById('adminTestsList');
            container.innerHTML = testsDB.map(test => `
                <div style="display: flex; justify-content: space-between; align-items: center; padding: 1rem; background: var(--light); border-radius: 12px; margin-bottom: 0.5rem;">
                    <div>
                        <strong>${test.name}</strong>
                        <span style="color: var(--gray); margin-right: 1rem;">(${test.verbalCount + test.quantCount} Ø³Ø¤Ø§Ù„ - ${test.timeLimit} Ø¯Ù‚ÙŠÙ‚Ø©)</span>
                    </div>
                    <button class="btn btn-sm btn-danger" onclick="deleteTest(${test.id})">Ø­Ø°Ù</button>
                </div>
            `).join('');
        }

        function deleteTest(testId) {
            if (confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±ØŸ')) {
                testsDB = testsDB.filter(t => t.id !== testId);
                saveData();
                renderAdminTests();
            }
        }

        // ==================== Utilities ====================
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        function updateUI() {
            // Update progress on home page
            const verbalProgress = calculateSectionProgress('verbal');
            const quantProgress = calculateSectionProgress('quant');
            
            document.getElementById('verbalProgress').textContent = `${verbalProgress}% Ù…ÙƒØªÙ…Ù„`;
            document.getElementById('quantProgress').textContent = `${quantProgress}% Ù…ÙƒØªÙ…Ù„`;
        }

        function calculateSectionProgress(section) {
            const categories = Object.entries(userProgress.categoryProgress)
                .filter(([k]) => k.startsWith(section));
            
            if (categories.length === 0) return 0;
            
            const avgProgress = categories.reduce((sum, [_, s]) => {
                return sum + (s.attempted > 0 ? Math.min(s.attempted / 10, 1) : 0);
            }, 0) / categories.length;
            
            return Math.round(avgProgress * 100);
        }

        // Close modal on outside click
        document.getElementById('editModal').addEventListener('click', function(e) {
            if (e.target === this) closeEditModal();
        });

        // Initialize app
        init();
    </script>
</body>
</html>
